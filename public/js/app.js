(function(e){function t(t){for(var r,s,o=t[0],u=t[1],c=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/public/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"019f":function(e){e.exports=JSON.parse('{"page":{"home":{"title":"首頁"},"login":{"title":"登入"},"register":{"title":"註冊"},"register-1":{"title":"註冊第一步"},"register-2":{"title":"註冊第二步"},"register-3":{"title":"註冊第三步"},"forgotPassword":{"title":"忘記密碼"},"verifyPassword":{"title":"手機驗證碼"},"resetPassword":{"title":"重設密碼"},"maintain":{"title":"會員資料維護"},"fixPassword":{"title":"修改手機號碼"},"memberVerify":{"title":"會員認證"},"updatePassword":{"title":"更新密碼"},"memberLevel":{"title":"會員等級"},"transaction":{"title":"交易紀錄"},"pointInfo":{"title":"點數資訊"},"pointDesc":{"title":"點數介紹"},"memberCard":{"title":"會員卡"},"couponFolder":{"title":"票券匣"},"couponInfo":{"title":"票券詳情"},"couponCard":{"title":"折價卡"},"activityList":{"title":"票券活動列表"},"activityInfo":{"title":"活動票券詳情"},"exchangeOk":{"title":"兌換成功"},"redeemCouponInfo":{"title":"兌換票券資訊"}},"validate":{"required":"必填","email":"電子信箱格式有誤","mobile":"手機格式有誤","password":"密碼長度或格式不符：英數字混合 6~12碼","pwNotEqual":"密碼不一致","taiwanId":"身分證格式有誤"},"http":{"401":"請重新登入","500":"司服器錯誤"}}')},"02f8":function(e,t,n){"use strict";var r=n("bc35"),a=n.n(r);a.a},"0489":function(e,t,n){"use strict";var r=n("0b35"),a=n.n(r);a.a},"0610":function(e,t,n){},"0818":function(e,t,n){"use strict";var r=n("2e63"),a=n.n(r);a.a},"0898":function(e,t,n){},"09cd":function(e,t,n){"use strict";var r=n("cdef"),a=n.n(r);a.a},"0b35":function(e,t,n){},1:function(e,t){},"11b7":function(e,t,n){"use strict";var r=n("7645"),a=n.n(r);a.a},"135b":function(e,t,n){},"17bc":function(e,t,n){},"18f7":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/9sAQwABAQEBAQEBAQEBAQEBAgIDAgICAgIEAwMCAwUEBQUFBAQEBQYHBgUFBwYEBAYJBgcICAgICAUGCQoJCAoHCAgI/8AACwgBfAI6AQERAP/EABwAAQEAAwEBAQEAAAAAAAAAAAAHBAUGAwIBCv/EAEQQAQABAwECBwoOAQQCAwAAAAACAQMEBQYSERYiMTVzshMhQVFlcXSBkaMUFSMyNEJSU1Rhk7HR4qEkYnKCQ8GS8PH/2gAIAQEAAD8A/tIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaHWtex9GpbjO3PIyJ8qMKd7veOtXO8evJfv/AOpx68l+/wD6nHryX7/+px68l+//AKnHryX7/wDqcevJfv8A+px68l+//qcevJfv/wCpx68l+/8A6nHryX7/APqcevJfv/6nHryX7/8AqcevJfv/AOrZ6Ttbj6jk28W7izxbk+TCu9w0lXxc1HWgAAAAAAAAAAAAAAAAAAl22vSmP6PTtyaDT9Ly9Unct4kYSlGm9XhlwNtxR1r7mz+pQ4o619zZ/UocUda+5s/qUOKOtfc2f1KHFHWvubP6lDijrX3Nn9ShxR1r7mz+pQ4o619zZ/UocUda+5s/qUOKOtfc2f1KHFHWvubP6lGDqOhajpliORl24Rt1rucmVK9+v/4x9I6W03r7fbouAAAAAAAAAAAAAAAAAAAJdtr0pj+j07cmRsP9Mzeqp+6kgANPla9pGHOVu/mQ7pT6seGdf8Uq+sTXNJz5xt4+bCVyvzYy4aVl5uHg4W2HI7a9E2Ovp2ap7pHS2m9fb7dFwAAAAAAAAAAAAAAAAAABLttelMf0enbkyNh/pmb1VP3UkAHDbW63dxt3TcWXc7kqb12cefgrzU9fhTqMJXJRhCM5Sr9WJKMoS3ZxnGVPBJTNk9au5sLmBlXO6Xrcd6E688ofn5nZOR216JsdfTs1T3SOltN6+326LgAAAAAAAAAAAAAAAAAACXba9KY/o9O3JkbD/TM3qqfupI+ZzhbjKdyULdunflKXepF52MnHy47+NkWci3Tk70JUr+z2Ec2l3vjrUN/529H2cFOB0uw9Mbczq8j4ZvU8+5+Xr53ltv8ABu6YO73P4V3+Hg59zwcP/ppNlN/48w93h3d2e95tyqvOR216JsdfTs1T3SOltN6+326LgAAAAAAAAAAAAAAAAAACXba9KY/o9O3JkbD/AEzN6qn7qSJ1tlqtZ3bemWZcMY8u5wePwU9XO0ezeoSwNUs70t3Hu/JT9fNX1VWEcLtdo12/WOqYtvuko04LtI8/BTmr/KeQuXLUozt3J27lPDGXBV+TnO5KU5ynclX50pd+qk7JaLdxI3NQyo9yvXI7sIS54w8dfO7VyO2vRNjr6dmqe6R0tpvX2+3RcAAAAAAAAAAAAAAAAAAAS7bXpTH9Hp25MjYf6Zm9VT91JYefmW8DDyMq782Ed7d+1XwU9dUQv3rmTevZF6W9cnKspV/OryWrRM/4x0zFyKy3rnBuT/505/bztsNLlbO6Rmzlcu4cI3K/OlDhh+3efWJoGk4U43LGHDulPm1nw1lHzcNatwOR216JsdfTs1T3SOltN6+326LgAAAAAAAAAAAAAAAAAACXba9KY/o9O3JkbD/TM3qqfupKcbZ6n3S9b0y1Lk2+Xc89eanqp2mj2e034z1KEJx/08OXd81PB66vXajBpg6relCO7Zu/Kx9fP/ltti8/ueTkafOXJuU34eenP7adlSGFqGfj6bi3MvIlwxp82PhlXxUclhbaxu5Ubebiwx8eUuCM4y4d3zu5pWlacNH6OR216JsdfTs1T3SOltN6+326LgAAAAAAAAAAAAAAAAAACXba9KY/o9O3JkbD/TM3qqfu7zUM23p+FkZlzg3YU71PtV8FPaiN69cyLty/dlvXJ1rKVfzqrGzGm/F+nRnchu5F7lz/ANtPBT2Mfa/B+Fab8Jtx+UsV3v8ApXn/AJTPDyZ4eVjZVv51udJezwLd8Kx/gkc6tykcWsO6b1fFwcKR65rFzV8rf5ccWHJtQ/Lx1/OrSKRsnrndoR0vKl8tGPyMpfWp4vV4PydwOR216JsdfTs1T3SOltN6+326LgAAAAAAAAAAAAAAAAAACXba9KY/o9O3JkbD/TM3qqfubZal3XIt6bal8nb5dz/nXmp6qdppdnNM+MtRtxnHex7fLu+rmp66rG+LlqF23ctXI71uUaxlH8qobnYk8HMyMSfPbnWn/Kngr66Mi7q2Xe07H0yst3Htyr/27/DTh8z90jSr2rZcce3wRtU5Vyf2afz4nd67s3Yu4FuWn2e537EN2MY/+SHi8/hTOE52bkbluU7dyMuGlY88a0WLQtXhq+Jv15OVDvXI/n4/NVu3I7a9E2Ovp2ap7pHS2m9fb7dFwAAAAAAAAAAAAAAAAAABLttelMf0enbk8dmc63p1NUy7n1LNOCP2q8Pep7XNXbty/duXrst65OVZSl+dVb2Z0z4u06NbkdzJu8uf5+Knqo6ETrbXBpG9j6hCNKxnHuU/PTm/x2XG4uLezL9vGx7fdb068FIrJpOl2dJxI49rlXK8qc/tV/8AvM2aa7V6J8HuS1PFj/p5y+VpH6ta+HzV/dzWl6le0vMt5VrlUpyZ0+1Hw0WfFyrObj28rHlvWZ04aOZ216JsdfTs1T3SOltN6+326LgAAAAAAAAAAAAAAAAAACXba9KY/o9O3JyO9KlJwpLk1b7ZvTPjLUrdJx3se1y7n/qnrqsIPDJxrOZZuY+Tbhesy56VYWn6Np2mSlLEx+C5L505S4a8Hi77aD4u2rd+3cs3Y1uW5U4Kxl9alUc1zSLmkZkrdOVjy5Vuf5eLz0bDZjW66dkfBMiXBg3Jfpz8fm8bqNteibHX07NU90jpbTevt9ui4AAAAAAAAAAAAAAAAAAAl22vSmP6PTtycgsGzemfFunW+6R3ci7y5/7fFT1UdAAANdqumWdVw7mLdru1+dCf2a+NGMrFvYeRcxsiPc70JcEm2v6zLK0S3puTyr1q7SUJfahSlacHqYOkdLab19vt0XAAAAAAAAAAAAAAAAAAAEu216Ux/R6duTS6LDDnqFmefehZxYcuW99bg5qKjxj0X8fZ9tf4OMei/j7Ptr/Bxj0X8fZ9tf4OMei/j7Ptr/Bxj0X8fZ9tf4OMei/j7Ptr/Bxj0X8fZ9tf4OMei/j7Ptr/AAcY9F/H2fbX+DjHov4+z7a/w5baW7oupWK5ONnWPh1vz/KU8XN7HBNhpHS2m9fb7dFwAAAAAAAAAAAAAAAAAABOttcPInk4+dC3OVnue5WVPq1pWte//wDJwgAAADebP4ORl6nhztW59zt3KXZz8EaRrw/5WQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/9k="},"1aa8":function(e,t,n){},"1d6d":function(e,t,n){},2:function(e,t){},2007:function(e,t,n){"use strict";var r=n("7353"),a=n.n(r);a.a},2593:function(e,t,n){"use strict";var r=n("17bc"),a=n.n(r);a.a},"2aa2":function(e,t,n){},"2c36":function(e,t,n){"use strict";var r=n("5846"),a=n.n(r);a.a},"2cff":function(e,t,n){},"2e63":function(e,t,n){},"2f47":function(e,t,n){"use strict";var r=n("5837"),a=n.n(r);a.a},3:function(e,t){},3952:function(e,t,n){},"3b72":function(e,t,n){},4:function(e,t){},4293:function(e,t,n){"use strict";var r=n("4593"),a=n.n(r);a.a},"42cd":function(e,t,n){"use strict";var r=n("7ad8"),a=n.n(r);a.a},4593:function(e,t,n){},"4c6b":function(e,t,n){},5212:function(e,t,n){e.exports=n.p+"img/img_common_form_logo_n@3x.9af9d474.png"},"52e6":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("841c"),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1276"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__),checkTwID=function checkTwID(id){var city=new Array(1,10,19,28,37,46,55,64,39,73,82,2,11,20,48,29,38,47,56,65,74,83,21,3,12,30);if(id=id.toUpperCase(),-1==id.search(/^[A-Z](1|2)\d{8}$/i))return!1;id=id.split("");for(var total=city[id[0].charCodeAt(0)-65],i=1;i<=8;i++)total+=eval(id[i])*(9-i);return total+=eval(id[9]),total%10==0},_unused_webpack_default_export=checkTwID},5524:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e041");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n(e.layoutName,{tag:"component"},[n("router-view")],1),n("MessagePopup",{attrs:{isOpen:e.openExpirePopup,message:e.expireOption.message,eventName:e.expireOption.eventName},on:{expireSure:e.expireHandler}}),n("MessagePopup",{attrs:{isOpen:e.openLogoutPopup,message:e.logoutOption.message,eventName:e.logoutOption.eventName},on:{logoutSure:e.logoutHandler}})],1)},i=[],s=n("5530"),o=n("2f62"),u={metaInfo:function(){return{title:"",titleTemplate:"%s | MMRM",meta:[{property:"og:image",content:""},{property:"og:description",content:"project"}]}},data:function(){return{expireOption:{message:"逾時，請重新登入",eventName:"expireSure"},logoutOption:{message:"登出成功",eventName:"logoutSure"}}},computed:{openExpirePopup:Object(s["a"])(Object(s["a"])({},Object(o["c"])({get:"openExpirePopup"})),Object(o["b"])({set:"setExpirePopup"})),openLogoutPopup:Object(s["a"])(Object(s["a"])({},Object(o["c"])({get:"openLogoutPopup"})),Object(o["b"])({set:"setLogoutPopup"})),layoutName:function(){return void 0!==this.$route.meta.layout?"DefaultLayout":"PanelLayout"}},methods:{expireHandler:function(){this.openExpirePopup=!1},logoutHandler:function(){this.openLogoutPopup=!1},unloadHandler:function(){this.$store.dispatch("auth/clearAllRegister")}},mounted:function(){window.addEventListener("beforeunload",this.unloadHandler)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.unloadHandler)}},c=u,l=n("2877"),d=Object(l["a"])(c,a,i,!1,null,null,null),p=d.exports,f=(n("45fc"),n("8c4f")),v=(n("96cf"),n("1da1")),m=(n("b0c0"),n("d3b7"),n("bc3a")),h=n.n(m),g=h.a.create({baseURL:"https://mmrm-server.herokuapp.com/",withCredentials:!0});function b(e){return g(e)}g.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(M.commit("auth/setLogin",!1),M.commit("setExpirePopup",!0),Ds.push("/").catch((function(e){}))),Promise.reject(e)}));n("25f0");var A=n("3452"),w=n.n(A),y=w.a.enc.Utf8,O=w.a.enc.Base64,C=w.a.MD5,x=w.a.AES,k="791701991223a6d7193e964b6690b58a",j={encodeMd5:function(e){return C(e).toString()},encodeUtf8:function(e){return y.parse(e)},decodeUft8:function(e){return y.stringify(e)},encodeBase64:function(e){var t=this.encodeUtf8(e);return O.stringify(t)},decodeBase64:function(e){var t=O.parse(e);return this.decodeUft8(t)},encodeAes:function(e){return x.encrypt(e,"791701991223a6d7193e964b6690b58a").toString()},decodeAes:function(e){var t=x.decrypt(e,"791701991223a6d7193e964b6690b58a");return t.toString(y)},encodeAesJson:function(e){return this.encodeAes(JSON.stringify(e))},decodeAesJson:function(e){return JSON.parse(this.decodeAes(e))},wm_aes:function(e){var t=w.a.SHA384(k),n=w.a.enc.Hex.parse(t.toString().substring(0,64)),r=w.a.enc.Hex.parse(t.toString().substring(64,96)),a=w.a.AES.encrypt(e,n,{iv:r});return a.toString()},encodeSignUp:function(e){var t=JSON.stringify(e),n=j.encodeAes(t);return j.encodeBase64(n)},decodeSignUp:function(e){var t=j.decodeBase64(e),n=j.decodeAes(t);return JSON.parse(n)}},I={login:function(e){return b({url:"/member/login",method:"post",data:{account:j.wm_aes(e.account),password:j.wm_aes(e.password)}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},logout:function(){return b({url:"/member/logout",method:"post",data:{}}).then((function(e){return{status:!0}})).catch((function(e){return{status:!1}}))},register_check:function(e){return b({url:"/member/register_check",method:"post",data:{mobile:j.wm_aes(e.mobile),password:j.wm_aes(e.password),name:e.name,gender:e.gender,security_question:e.security_question,security_answer:e.security_answer}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},register:function(e){var t=e.step1,n=e.step2;return b({url:"/member/register",method:"post",data:Object(s["a"])(Object(s["a"])(Object(s["a"])({},t),n),{},{mobile:j.wm_aes(t.mobile),password:j.wm_aes(t.password)})}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},registerVerify:function(e){return b({url:"/member/register_verify",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},T={forget_password:function(e){return b({url:"/member/v1.1/forget_password",method:"post",data:{mobile:j.wm_aes(e.mobile),security_question:e.security_question,security_answer:e.security_answer}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},forget_password_verify:function(e){return b({url:"/member/forget_password_verify",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},reset_password:function(e){return b({url:"/member/reset_password",method:"post",data:{temp_access_token:e.temp_access_token,new_password:j.wm_aes(e.new_password)}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},verify_member_password:function(e){return b({url:"/member/verify_member_password",method:"post",data:{password:j.wm_aes(e.password)}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},get_member_profile:function(){return b({url:"/member/get_member_profile",method:"post",data:{}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},update_member_profile:function(e){return b({url:"/member/update_member_profile",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},update_member_mobile:function(e){return b({url:"/member/update_member_mobile",method:"post",data:{mobile:j.wm_aes(e.mobile),password:j.wm_aes(e.password)}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},member_verify:function(e){return b({url:"/member/member_verify",method:"post",data:e}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},update_member_password:function(e){return b({url:"/member/update_member_password",method:"post",data:{old_password:j.wm_aes(e.old_password),new_password:j.wm_aes(e.new_password)}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},member_summary:function(){return b({url:"/member/member_summary",method:"post",data:{}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},member_card:function(){return b({url:"/member/get_member_card",method:"post",data:{}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},P=n("a78e"),L=n.n(P),R={get:function(e){return L.a.get(e)},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};L.a.set(e,t,n)},remove:function(e,t){L.a.remove(e,t)}};r["default"].prototype.$cookie=R;var S=R,B={getItem:function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):null},setItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))},removeItem:function(e){localStorage.removeItem(e)},getSessionItem:function(e){var t=sessionStorage.getItem(e);return null!==t?JSON.parse(t):null},setSessionItem:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},removeSessionItem:function(e){sessionStorage.removeItem(e)}};r["default"].prototype.$storage=B;var N=B,$="startTime",E="signUp",q={namespaced:!0,state:function(){return{isLogin:!1,passwordToken:"",pwVerified:!1}},mutations:{setLogin:function(e,t){e.isLogin=t},setPasswordToken:function(e,t){e.passwordToken=t},setPwVerify:function(e,t){e.pwVerified=t}},actions:{checkAuthCookie:function(e){var t=e.commit,n=S.get("mmrmToken");t("setLogin",void 0!==n)},login:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,I.login(t);case 3:return a=n.sent,a.status&&r("setLogin",!0),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,I.logout();case 3:return r=t.sent,r.status&&(n("setLogin",!1),n("setLogoutPopup",!0,{root:!0})),t.abrupt("return",r.status);case 6:case"end":return t.stop()}}),t)})))()},register_step1:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit,n.next=3,I.register_check(t);case 3:return r=n.sent,r.status&&(a=N.getSessionItem(E),null===a?(i=j.encodeSignUp({step1:t}),N.setSessionItem(E,i)):(s=j.decodeSignUp(a),s.step1=t,o=j.encodeSignUp(s),N.setSessionItem(E,o)),N.setSessionItem($,{data:Date.now()})),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))()},register:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,r("getStepData","step1");case 3:return a=n.sent,n.next=6,I.register({step1:a,step2:t});case 6:return i=n.sent,i.status&&(s=j.encodeSignUp({step1:a,step2:t,temp_access_token:i.info.results.temp_access_token}),N.setSessionItem(E,s)),n.abrupt("return",i);case 9:case"end":return n.stop()}}),n)})))()},registerVerify:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,r("getStepData","temp_access_token");case 3:return a=n.sent,n.next=6,I.registerVerify({temp_access_token:a,verify_code:t.verify_code});case 6:return i=n.sent,i.status&&r("clearAllRegister"),n.abrupt("return",i);case 9:case"end":return n.stop()}}),n)})))()},checkHasSignupData:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.dispatch,r=6e5,a=N.getSessionItem("startTime"),null!==a){t.next=5;break}return t.abrupt("return",!1);case 5:if(i=Date.now()-a.data,!(i>=r)){t.next=9;break}return n("clearAllRegister"),t.abrupt("return",!1);case 9:if(s=N.getSessionItem(E),null!==s){t.next=12;break}return t.abrupt("return",!1);case 12:return t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t)})))()},getStepData:function(e,t){e.commit;var n=N.getSessionItem(E);return j.decodeSignUp(n)[t]},clearAllRegister:function(){N.removeSessionItem($),N.removeSessionItem(E)},verifyPassword:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,T.verify_member_password({password:t});case 3:return a=n.sent,a.status&&(r("setPwVerify",!0),N.setSessionItem("pwVerified",{status:!0})),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))()},checkPwVerify:function(e){var t=e.commit,n=N.getSessionItem("pwVerified");null!==n&&n.status&&t("setPwVerify",!0)}}},H=function(e){e.dispatch("auth/checkAuthCookie"),e.dispatch("auth/checkPwVerify"),e.subscribe((function(e,t){}))};r["default"].use(o["a"]);var M=new o["a"].Store({strict:!1,state:{openExpirePopup:!1,openLogoutPopup:!1},mutations:{setExpirePopup:function(e,t){e.openExpirePopup=t},setLogoutPopup:function(e,t){e.openLogoutPopup=t}},actions:{},modules:{auth:q},plugins:[H]}),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"mycontainer"},e._l(e.serviceInfo,(function(t){return n("EntranceBlock",{key:t.itemType,attrs:{title:t.title,lists:t.lists},on:{logout:e.logoutHandler}})})),1),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},U=[],F=(n("7db0"),n("ac1f"),n("5319"),n("a6f4")),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasLists,expression:"hasLists"}],staticClass:"entranceBlock"},[n("h2",[e._v(e._s(e.title))]),n("div",{staticClass:"serviceBox"},e._l(e.serviceLists,(function(t){return n("ServiceItem",{key:t.itemType,attrs:{title:t.title,path:t.path,icon:t.icon,itemType:t.itemType},on:{logout:function(t){return e.$emit("logout")}}})})),1)])},J=[],Y=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"serviceItem",attrs:{to:e.path},nativeOn:{click:function(t){return e.clickHandler(t)}}},[n("i",{class:e.icon}),n("span",[e._v(e._s(e.title))])])}),X=[],z={props:{title:{type:String,required:!0},path:{type:String,required:!0},icon:{type:String,required:!0},itemType:{type:String,required:!0}},methods:{clickHandler:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("logout"===t.itemType){n.next=2;break}return n.abrupt("return");case 2:e.preventDefault(),t.$emit("logout");case 4:case"end":return n.stop()}}),n)})))()}}},W=z,K=(n("60f4"),Object(l["a"])(W,Y,X,!1,null,"f48e9c10",null)),Q=K.exports,Z={props:{title:{type:String,default:""},lists:{type:Array,required:!0}},setup:function(e,t){var n=t.root,r=Object(F["h"])(e),a=r.lists,i=Object(F["a"])((function(){return n.$store.state.auth.isLogin})),s=Object(F["a"])((function(){return a.value.filter((function(e){return e.auth===i.value}))})),o=Object(F["a"])((function(){return s.value.length>0}));return{serviceLists:s,hasLists:o}},components:{ServiceItem:Q}},G=Z,ee=(n("d7e7"),Object(l["a"])(G,V,J,!1,null,"7b0901e6",null)),te=ee.exports,ne={name:"home",metaInfo:function(){return{title:this.$i18n.t("page.home.title")}},setup:function(e,t){var n=t.root,r=Object(F["g"])(!1),a=Object(F["f"])([{itemType:"member",title:"會員項目",lists:[{itemType:"login",title:"登入",path:"/login",auth:!1,icon:"fas fa-sign-in-alt"},{itemType:"maintain",title:"會員資料",path:"/member/maintain",auth:!0,icon:"fas fa-users-cog"},{itemType:"card",title:"會員條碼",path:"/member/card",auth:!0,icon:"fas fa-qrcode"},{itemType:"level",title:"會員等級",path:"/member/level",auth:!0,icon:"fas fa-tasks"},{itemType:"transaction",title:"交易紀錄",path:"/member/transaction",auth:!0,icon:"fas fa-history"},{itemType:"point",title:"點數資訊",path:"/member/pointInfo/",auth:!0,icon:"fas fa-coins"},{itemType:"logout",title:"登出",path:"/",auth:!0,icon:"fas fa-sign-out-alt"}]},{itemType:"ticket",title:"票券項目",lists:[{itemType:"coupon",title:"票券匣",path:"/coupon/folder",auth:!0,icon:"fas fa-ticket-alt"},{itemType:"activity",title:"兌換活動",path:"/activity/list",auth:!0,icon:"fas fa-exchange-alt"}]}]),i=Object(F["a"])((function(){return n.$store.state.auth.isLogin})),s=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.member_summary().then((function(e){return e.info.results.point_summary.current_point}));case 2:if(t=e.sent,0!==t.length){e.next=5;break}return e.abrupt("return");case 5:n=t[1].point_id,r=a[0].lists,i=r.find((function(e){return"point"===e.itemType})),i.path=i.path+n;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.value=!0,!i.value){e.next=4;break}return e.next=4,s();case 4:r.value=!1;case 5:case"end":return e.stop()}}),e)}))));var o=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,e.next=3,n.$store.dispatch("auth/logout");case 3:t=e.sent,t&&n.$router.replace("/login"),r.value=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isLoading:r,serviceInfo:a,logoutHandler:o}},components:{EntranceBlock:te}},re=ne,ae=Object(l["a"])(re,D,U,!1,null,"67868ae2",null),ie=ae.exports,se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"mycontainer"},[r("div",{attrs:{id:"logoBox"}},[r("img",{attrs:{src:n("5212")}})]),r("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("帳號")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.account,expression:"user.account",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"為您的手機號碼",maxlength:"10"},domProps:{value:e.user.account},on:{input:function(t){t.target.composing||e.$set(e.user,"account",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1),r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("密碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],ref:"pwInput",staticClass:"form-control pwInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字",maxLength:"12"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isReady?r("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[0].show,hide:!e.visibleInfo[0].show},on:{click:function(t){return e.seeHandler("0")}}}):e._e(),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1)]),r("div",{staticClass:"btnBox login"},[r("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("登入")])]),r("div",{staticClass:"linkBox"},[r("div",[r("router-link",{attrs:{to:"/register"}},[e._v("會員註冊")])],1),r("div",[r("router-link",{attrs:{to:"/member/forgotPassword"}},[e._v("忘記密碼")])],1)])],1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{loginSure:e.loginHandler}})],1)},oe=[],ue=(n("4160"),n("159b"),function(e){var t=e.root,n=Object(F["g"])(!1),r=Object(F["f"])({}),a=function(){document.querySelectorAll("[type=password]").forEach((function(e,n){t.$set(r,n,{show:!1,el:e}),i(n,!0)})),n.value=!0},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r[e];t||(n.show=!n.show),n.el.type=n.show?"text":"password"};return Object(F["d"])((function(){a()})),{isReady:n,visibleInfo:r,seeHandler:i}}),ce={name:"login",metaInfo:function(){return{title:this.$i18n.t("page.login.title")}},setup:function(e,t){var n=ue(t),r=n.isReady,a=n.visibleInfo,i=n.seeHandler,o=t.root,u=Object(F["g"])(!1),c=Object(F["g"])(!1),l=Object(F["g"])(null),d=Object(F["f"])({account:"",password:""}),p=Object(F["f"])({isOpen:!1,message:"",eventName:"loginSure"}),f=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return u.value=!0,e.next=8,o.$store.dispatch("auth/login",Object(s["a"])({},d));case 8:n=e.sent,r=n.status,a=n.info,c.value=r,p.message=r?"登入成功":a.rcrm.RM,p.isOpen=!0,u.value=!1;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){c.value&&o.$router.replace("/"),p.isOpen=!1};return{isReady:r,visibleInfo:a,seeHandler:i,user:d,msgOption:p,isLoading:u,loginSuccess:c,form:l,submitHandler:f,loginHandler:m}}},le=ce,de=(n("02f8"),Object(l["a"])(le,se,oe,!1,null,"4792f0bc",null)),pe=de.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("div",{staticClass:"mycontainer"},[n("div",{class:e.stepClass,attrs:{id:"processBox"}}),n("router-view",{on:{loading:e.loadingHandler,checkSignup:e.checkSignup}})],1),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},ve=[],me={name:"register",metaInfo:function(){return{title:this.$i18n.t("page.register.title")}},data:function(){return{isLoading:!1}},beforeRouteLeave:function(e,t,n){return e.meta.register||this.$store.dispatch("auth/clearAllRegister"),n()},computed:{routeStep:function(){return this.$route.meta.step},stepClass:function(){return this.routeStep>=1&&this.routeStep<=3?"step".concat(this.routeStep):"none"}},methods:{loadingHandler:function(e){this.isLoading=e},checkSignup:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("auth/checkHasSignupData");case 2:r=n.sent,r?e(r):t.$router.push("/register").catch((function(e){}));case 4:case"end":return n.stop()}}),n)})))()}}},he=me,ge=Object(l["a"])(he,fe,ve,!1,null,null,null),be=ge.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stepWarp"},[n("validation-observer",{ref:"form",staticClass:"dataOuter",attrs:{tag:"div"}},[n("div",{staticClass:"dataBox"},[n("p",{staticClass:"dataTitle"},[e._v("必填資料")]),n("div",{staticClass:"dataBody"},[n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.mobile,expression:"user.mobile",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"為您的帳號，共 10 碼"},domProps:{value:e.user.mobile},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("手機號碼")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required|password",vid:"a"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],ref:"pwInput",staticClass:"form-control pwInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("密碼")]),e.isReady?n("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[0].show,hide:!e.visibleInfo[0].show},on:{click:function(t){return e.seeHandler("0")}}}):e._e(),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required|confirmPw:@a"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confirmedPw,expression:"user.confirmedPw",modifiers:{trim:!0}}],ref:"confirmInput",staticClass:"form-control pwInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字"},domProps:{value:e.user.confirmedPw},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmedPw",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("密碼確認")]),e.isReady?n("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[1].show,hide:!e.visibleInfo[1].show},on:{click:function(t){return e.seeHandler("1")}}}):e._e(),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])})],1)]),n("div",{staticClass:"dataBox"},[n("div",{staticClass:"dataBody"},[n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.name,expression:"user.name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入您的姓名"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("姓名")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.gender,expression:"user.gender"}],staticClass:"form-control",class:{selectDown:""===e.user.gender},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"gender",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:""}}),e._l(e.genderList,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.title))])}))],2),n("p",{staticClass:"dataName"},[e._v("性別")]),n("div",{staticClass:"downIcon",class:{hide:""!==e.user.gender}}),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])})],1)]),n("div",{staticClass:"dataBox"},[n("div",{staticClass:"dataBody"},[n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.security_question,expression:"user.security_question"}],staticClass:"form-control eigthInput",class:{selectDown:""===e.user.security_question},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"security_question",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:""}}),e._l(e.questionList,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.title))])}))],2),n("p",{staticClass:"dataName"},[e._v("忘記密碼安全問題")]),n("div",{staticClass:"downIcon",class:{hide:""!==e.user.security_question}}),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.security_answer,expression:"user.security_answer",modifiers:{trim:!0}}],staticClass:"form-control sixInput",attrs:{type:"text",placeholder:"請輸入答案"},domProps:{value:e.user.security_answer},on:{input:function(t){t.target.composing||e.$set(e.user,"security_answer",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("安全問題答案")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])})],1)])]),n("validation-observer",{ref:"term",staticClass:"termOuter",attrs:{tag:"div"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.hasTerms,expression:"hasTerms"}],staticClass:"termTitle"},[e._v("其他")]),n("div",{staticClass:"termContent"},e._l(e.termsList.data,(function(t){return n("TermRow",{key:t.id,attrs:{termId:t.id,termTitle:t.title,termChecked:t.checked},on:{showContent:e.showTermContent}})})),1)]),e._l(e.termsList.data,(function(t){return n("TermPopup",{key:t.id,attrs:{termId:t.id,termTitle:t.title,termContent:t.content,termChecked:t.checked,showPopup:t.show},on:{"update:showPopup":function(n){return e.$set(t,"show",n)},"update:show-popup":function(n){return e.$set(t,"show",n)},agree:e.agreeHandler}})})),n("div",{staticClass:"btnBox"},[n("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("下一步")])]),n("MessagePopup",{attrs:{isOpen:e.stepOption.isOpen,message:e.stepOption.message,eventName:e.stepOption.eventName},on:{stepFeedBack:e.stepFeedBack}})],2)},Ae=[],we=(n("13d5"),{brefTerm:function(e){return b({url:"/term/brief_term",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))}}),ye=function(){var e=Object(F["f"])([{title:"男性",value:"M"},{title:"女性",value:"F"},{title:"保密",value:"S"}]),t=Object(F["f"])([{title:"您畢業的國小",value:"sq01"},{title:"您最愛的寵物名字",value:"sq02"},{title:"您最愛的食物",value:"sq03"},{title:"您最好朋友的名字",value:"sq04"},{title:"您最愛的電影",value:"sq05"}]);return{genderList:e,questionList:t}},Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"termRow",on:{click:e.showHandler}},[n("validation-provider",{attrs:{tag:"label",rules:"term"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.termChecked,expression:"termChecked"}],class:{checked:e.termChecked},attrs:{type:"checkBox",disabled:""},domProps:{value:e.termChecked},on:{input:function(t){t.target.composing||(e.termChecked=t.target.value)}}}),n("span",[e._v(e._s(e.termTitle))]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s("請同意"+e.termTitle)+" ")])]}}])}),n("div",{staticClass:"leftIcon"})],1)},Ce=[],xe=(n("a9e3"),{props:{termId:{type:Number,required:!0},termTitle:{type:String,required:!0},termChecked:{type:Boolean,required:!0}},methods:{showHandler:function(){this.$emit("showContent",this.termId)}}}),ke=xe,je=(n("0818"),Object(l["a"])(ke,Oe,Ce,!1,null,"ae978d82",null)),Ie=je.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"termPopup",class:{show:e.showPopup}},[n("div",{staticClass:"termHeader"},[n("div",{staticClass:"popupClose",on:{click:e.closeHandler}}),n("span",[e._v(e._s(e.termTitle))])]),n("div",{ref:"termBody",staticClass:"termBody"},[n("div",{ref:"termContent",staticClass:"termContent",domProps:{innerHTML:e._s(e.termContent)}})]),n("div",{staticClass:"termFooter",class:{termActiveButton:e.isReach},on:{click:e.agreeHandler}},[e._v("我已閱讀完並同意條款 ")])])},Pe=[],Le={props:{termId:{type:Number,required:!0},termTitle:{type:String,required:!0},termContent:{type:String,required:!0},termChecked:{type:Boolean,required:!0},showPopup:{type:Boolean,required:!0}},data:function(){return{isReach:this.termChecked}},methods:{closeHandler:function(){this.$emit("update:showPopup",!1)},agreeHandler:function(){this.isReach&&this.$emit("agree",this.termId)},getDistance:function(){var e=this.$refs.termBody,t=window.getComputedStyle(e),n=parseInt(t.paddingTop),r=parseInt(t.paddingBottom),a=n+r,i=e.clientHeight-a,s=this.$refs.termContent.scrollHeight;return s-i},scrollHandler:function(e){var t=this.getDistance(),n=e.target.scrollTop;n>=t&&(this.isReach=!0)}},mounted:function(){this.$refs.termBody.addEventListener("scroll",this.scrollHandler)},beforeDestroy:function(){this.$refs.termBody.removeEventListener("scroll",this.scrollHandler)},watch:{showPopup:function(){if(!this.isReach){var e=this.getDistance();this.isReach=e<=0}}}},Re=Le,Se=(n("bf22"),Object(l["a"])(Re,Te,Pe,!1,null,"4a2d2900",null)),Be=Se.exports,Ne={name:"register-step-1",metaInfo:function(){return{title:this.$i18n.t("page.register-1.title")}},setup:function(e,t){var n=ye(),r=n.genderList,a=n.questionList,i=ue(t),o=i.isReady,u=i.visibleInfo,c=i.seeHandler,l=t.emit,d=t.root,p=Object(F["g"])(null),f=Object(F["g"])(null),m=Object(F["g"])(null),h=Object(F["g"])(null),g=Object(F["f"])({data:[]}),b=Object(F["g"])(!1),_=Object(F["f"])({mobile:"0986104667",password:"abc123",confirmedPw:"abc123",name:"harvey",gender:"M",security_question:"sq01",security_answer:"aaa"}),A=Object(F["f"])({isOpen:!1,message:"",eventName:"stepFeedBack"}),w=Object(F["g"])(!1),y=Object(F["a"])((function(){return g.data.length>0})),O=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we.brefTerm({type:["register"]}).then((function(e){var t=e.info.results.term_information;return 0===t.length?[]:t[0].terms})).catch((function(e){return[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){return e.reduce((function(e,t){return e.push(Object(s["a"])(Object(s["a"])({},t),{},{show:!1,checked:!0})),e}),[])},x=function(e){var t=g.data.find((function(t){return t.id===e}));t.show=!0},k=function(e){var t=g.data.find((function(t){return t.id===e}));t.checked=!0,t.show=!1},j=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.value.validate();case 2:return t=e.sent,e.next=5,h.value.validate();case 5:if(n=e.sent,t&&n){e.next=8;break}return e.abrupt("return");case 8:return l("loading",!0),e.next=11,d.$store.dispatch("auth/register_step1",_);case 11:r=e.sent,a=r.status,i=r.info,b.value=a,A.message=a?"填寫成功":i.rcrm.RM,A.isOpen=!0,l("loading",!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){b.value&&d.$router.push("/register/step2"),A.isOpen=!1};return Object(F["i"])(w,function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,d.$store.dispatch("auth/getStepData","step1");case 3:for(r in n=e.sent,n)_[r]=n[r];g.data.forEach((function(e){return e.checked=!0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l("loading",!0),e.next=3,O();case 3:t=e.sent,g.data=C(t),l("checkSignup",(function(e){return w.value=e})),l("loading",!1);case 7:case"end":return e.stop()}}),e)})))),{genderList:r,questionList:a,termsList:g,stepSuccess:b,user:_,stepOption:A,canRetrive:w,pwInput:p,confirmInput:f,hasTerms:y,showTermContent:x,agreeHandler:k,stepFeedBack:I,submitHandler:j,form:m,term:h,isReady:o,visibleInfo:u,seeHandler:c}},components:{TermRow:Ie,TermPopup:Be}},$e=Ne,Ee=(n("73c0"),Object(l["a"])($e,_e,Ae,!1,null,"1e2e313f",null)),qe=Ee.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stepWrap"},[n("validation-observer",{ref:"form",staticClass:"dataOuter",attrs:{tag:"div"}},[n("div",{staticClass:"dataBox"},[n("p",{staticClass:"dataTitle"},[e._v("選填資料")]),n("div",{staticClass:"dataBody"},[n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.data.email,expression:"user.data.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",placeholder:"請輸入電子信箱"},domProps:{value:e.user.data.email},on:{input:function(t){t.target.composing||e.$set(e.user.data,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("電子信箱")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"birthday"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.data.birthday,expression:"user.data.birthday",modifiers:{trim:!0}}],staticClass:"form-control dateInput",class:{hide:""!==e.user.data.birthday},attrs:{type:"date"},domProps:{value:e.user.data.birthday},on:{input:function(t){t.target.composing||e.$set(e.user.data,"birthday",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("出生日期")]),n("div",{staticClass:"dateDown",class:{hide:""!==e.user.data.birthday}}),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("select",{directives:[{name:"model",rawName:"v-model",value:e.resideInfo.city,expression:"resideInfo.city"}],staticClass:"form-control",class:{selectDown:""===e.resideInfo.city},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.resideInfo,"city",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}}),e._l(e.cityList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2),n("p",{staticClass:"dataName"},[e._v("縣市")]),n("div",{staticClass:"downIcon",class:{hide:""!==e.resideInfo.city}}),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("select",{directives:[{name:"model",rawName:"v-model",value:e.resideInfo.district,expression:"resideInfo.district"}],staticClass:"form-control",class:{selectDown:""===e.resideInfo.district},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.resideInfo,"district",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}}),e._l(e.districtList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2),n("p",{staticClass:"dataName"},[e._v("地區")]),n("div",{staticClass:"downIcon",class:{hide:""!==e.resideInfo.district}}),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.data.address,expression:"user.data.address",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入地址"},domProps:{value:e.user.data.address},on:{input:function(t){t.target.composing||e.$set(e.user.data,"address",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("詳細地址")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])})],1)])]),n("div",{staticClass:"btnBox"},[n("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("下一步")])]),n("MessagePopup",{attrs:{isOpen:e.stepOption.isOpen,message:e.stepOption.message,eventName:e.stepOption.eventName},on:{stepFeedBack:e.stepFeedBack}})],1)},Me=[],De=(n("d81d"),n("e4e7")),Ue=function(){var e=Object(F["f"])(De),t=Object(F["f"])({city:"",district:""}),n=Object(F["a"])((function(){return e.map((function(e){return e.name}))})),r=Object(F["a"])((function(){var n=e.find((function(e){return e.name===t.city}));return void 0!==n?n.districts:[]}));return Object(F["i"])((function(){return t.city}),(function(){t.district=""})),{resideInfo:t,cityList:n,districtList:r}},Fe={name:"register2",metaInfo:function(){return{title:this.$i18n.t("page.register-2.title")}},setup:function(e,t){var n=t.emit,r=t.root,a=Ue(),i=a.resideInfo,o=a.cityList,u=a.districtList,c=Object(F["g"])(!1),l=Object(F["g"])(!1),d=Object(F["g"])(!1),p=Object(F["g"])(null),f=Object(F["f"])({data:{email:"test@gmail.com",birthday:"2021-01-28",city:"",district:"",address:"中央路"}}),m=Object(F["f"])({isOpen:!1,message:"",eventName:"stepFeedBack"}),h=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:n("checkSignup",(function(e){return l.value=e}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("loading",!0),e.next=3,r.$store.dispatch("auth/register",Object(s["a"])(Object(s["a"])({},f.data),{},{birthday:f.data.birthday.replace(/-/g,"/"),city:i.city,district:i.district}));case 3:t=e.sent,a=t.status,o=t.info,d.value=a,m.message=a?"填寫成功":o.rcrm.RM,m.isOpen=!0,n("loading",!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value&&r.$router.push("/register/step3"),l.value=!1,m.isOpen=!1;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F["i"])(c,function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.next=3,r.$store.dispatch("auth/getStepData","step2");case 3:if(n=e.sent,void 0!==n){e.next=6;break}return e.abrupt("return");case 6:return f.data=n,f.data.birthday=n.birthday.replace(/\//g,"-"),i.city=n.city,e.next=11,r.$nextTick();case 11:i.district=n.district;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["i"])(l,(function(e){e&&g()})),Object(F["d"])((function(){n("checkSignup",(function(e){return c.value=e}))})),{resideInfo:i,cityList:o,districtList:u,stepOption:m,user:f,submitHandler:h,form:p,stepFeedBack:b}}},Ve=Fe,Je=Object(l["a"])(Ve,He,Me,!1,null,null,null),Ye=Je.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stepWrap"},[n("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[n("div",{staticClass:"formRow"},[n("p",{staticClass:"formTitle"},[e._v("手機驗證碼")]),n("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.verify_code,expression:"user.verify_code",modifiers:{trim:!0}}],staticClass:"form-control fiveInput",attrs:{type:"password"},domProps:{value:e.user.verify_code},on:{input:function(t){t.target.composing||e.$set(e.user,"verify_code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])})],1)]),n("div",{staticClass:"btnBox"},[n("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("驗證")]),n("router-link",{staticClass:"btnAgain",attrs:{to:"/register/step1",replace:""}},[e._v("修改手機號碼")])],1),n("MessagePopup",{attrs:{isOpen:e.stepOption.isOpen,message:e.stepOption.message,eventName:e.stepOption.eventName},on:{stepFeedBack:e.stepFeedBack}})],1)},ze=[],We={name:"register3",metaInfo:function(){return{title:this.$i18n.t("page.register-3.title")}},data:function(){return{user:{verify_code:"1234"},stepOption:{isOpen:!1,message:"",eventName:"stepFeedBack"},canNext:!1,stepSuccess:!1}},methods:{submitHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate().then((function(e){return e}));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:e.$emit("checkSignup",(function(t){return e.canNext=t}));case 6:case"end":return t.stop()}}),t)})))()},verifyHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("loading",!0),t.next=3,e.$store.dispatch("auth/registerVerify",e.user);case 3:n=t.sent,r=n.status,a=n.info,e.stepSuccess=r,e.stepOption.message=r?"註冊成功":a.rcrm.RM,e.stepOption.isOpen=!0,e.$emit("loading",!1);case 10:case"end":return t.stop()}}),t)})))()},stepFeedBack:function(){this.stepSuccess&&this.$router.replace("/login"),this.canNext=!1,this.stepOption.isOpen=!1}},mounted:function(){this.$emit("checkSignup",(function(e){return function(){}}))},watch:{canNext:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e&&t.verifyHandler();case 1:case"end":return n.stop()}}),n)})))()}}},Ke=We,Qe=Object(l["a"])(Ke,Xe,ze,!1,null,null,null),Ze=Qe.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},et=[],tt={name:"member"},nt=tt,rt=Object(l["a"])(nt,Ge,et,!1,null,null,null),at=rt.exports,it=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mycontainer"},[r("div",{attrs:{id:"logoBox"}},[r("img",{attrs:{src:n("5212")}})]),r("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("手機號碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.mobile,expression:"user.mobile",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"共 10 碼",maxlength:"10"},domProps:{value:e.user.mobile},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1),r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("忘記密碼安全問題")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.security_question,expression:"user.security_question"}],staticClass:"form-control eigthInput",class:{selectDown:""===e.user.security_question},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"security_question",t.target.multiple?n:n[0])}}},[r("option",{attrs:{value:"",disabled:""}}),e._l(e.questionList,(function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.title))])}))],2),r("div",{staticClass:"downIcon",class:{hide:""!==e.user.security_question}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1),r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("安全問題答案")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.security_answer,expression:"user.security_answer",modifiers:{trim:!0}}],staticClass:"form-control sixInput",attrs:{type:"text",placeholder:"請輸入答案"},domProps:{value:e.user.security_answer},on:{input:function(t){t.target.composing||e.$set(e.user,"security_answer",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1)]),r("div",{staticClass:"tipBox"},[e._v(" 請輸入您的手機號碼及安全問題答案，系統將寄送驗證碼至您的手機，驗證身份後即可重設密碼。 ")]),r("div",{staticClass:"btnBox"},[r("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("確定")])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{forgotFeedBack:e.forgotFeedBack}})],1)},st=[],ot={name:"forgotPassword",metaInfo:function(){return{title:this.$i18n.t("page.forgotPassword.title")}},setup:function(e,t){var n=t.root,r=ye(),a=r.questionList,i=Object(F["f"])({mobile:"",security_question:"",security_answer:""}),s=Object(F["f"])({isOpen:!1,message:"",eventName:"forgotFeedBack"}),o=Object(F["g"])(!1),u=Object(F["g"])(!1),c=Object(F["g"])(null),l=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.value.validate().then((function(e){return e}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return o.value=!0,e.next=8,d();case 8:r=e.sent,a=r.status,i=r.token,a&&n.$store.commit("auth/setPasswordToken",i),o.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.forget_password(i);case 2:return t=e.sent,n=t.status,r=t.info,u.value=n,s.message=n?"填寫成功":r.rcrm.RM,s.isOpen=!0,e.abrupt("return",{status:n,token:r.results.temp_access_token});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){u.value&&n.$router.push("/member/verifyPassword"),s.isOpen=!1};return{questionList:a,user:i,isLoading:o,msgOption:s,form:c,submitHandler:l,verifyHandler:d,forgotFeedBack:p}}},ut=ot,ct=Object(l["a"])(ut,it,st,!1,null,null,null),lt=ct.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mycontainer"},[r("div",{attrs:{id:"logoBox"}},[r("img",{attrs:{src:n("5212")}})]),r("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("手機驗證碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.verify_code,expression:"user.verify_code",modifiers:{trim:!0}}],staticClass:"form-control fiveInput",attrs:{type:"password"},domProps:{value:e.user.verify_code},on:{input:function(t){t.target.composing||e.$set(e.user,"verify_code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1)]),r("div",{staticClass:"btnBox"},[r("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("驗證")])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{verifyFeedBack:e.verifyFeedBack}})],1)},pt=[],ft={name:"verifyPassword",metaInfo:function(){return{title:this.$i18n.t("page.verifyPassword.title")}},data:function(){return{user:{verify_code:"999999"},msgOption:{isOpen:!1,message:"",eventName:"verifyFeedBack"},isLoading:!1,verifySuccess:!1}},computed:{passwordToken:function(){return this.$store.state.auth.passwordToken},hasPasswordToken:function(){return""!==this.passwordToken}},methods:{submitHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate().then((function(e){return e}));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return e.isLoading=!0,t.next=8,e.verifyHandler();case 8:e.isLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},verifyHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.forget_password_verify({temp_access_token:e.passwordToken,verify_code:e.user.verify_code});case 2:n=t.sent,r=n.status,a=n.info,e.verifySuccess=r,e.msgOption.message=r?"驗證成功":a.rcrm.RM,e.msgOption.isOpen=!0;case 8:case"end":return t.stop()}}),t)})))()},verifyFeedBack:function(){this.verifySuccess&&this.$router.push("/member/resetPassword"),this.msgOption.isOpen=!1}},created:function(){this.hasPasswordToken||this.$router.push("/member/forgotPassword")}},vt=ft,mt=Object(l["a"])(vt,dt,pt,!1,null,null,null),ht=mt.exports,gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mycontainer"},[r("div",{attrs:{id:"logoBox"}},[r("img",{attrs:{src:n("5212")}})]),r("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("新密碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|password",vid:"a"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.new_password,expression:"user.new_password",modifiers:{trim:!0}}],ref:"pwInput",staticClass:"form-control pwInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字",maxLength:"12"},domProps:{value:e.user.new_password},on:{input:function(t){t.target.composing||e.$set(e.user,"new_password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isReady?r("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[0].show,hide:!e.visibleInfo[0].show},on:{click:function(t){return e.seeHandler("0")}}}):e._e(),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1),r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("確認新密碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|confirmPw:@a"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confrimPw,expression:"user.confrimPw",modifiers:{trim:!0}}],ref:"confirmInput",staticClass:"form-control pwInput fiveInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字",maxLength:"12"},domProps:{value:e.user.confrimPw},on:{input:function(t){t.target.composing||e.$set(e.user,"confrimPw",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isReady?r("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[1].show,hide:!e.visibleInfo[1].show},on:{click:function(t){return e.seeHandler("1")}}}):e._e(),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1)]),r("div",{staticClass:"btnBox"},[r("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("確定")])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{resetFeedBack:e.resetFeedBack}})],1)},bt=[],_t={name:"restePassword",metaInfo:function(){return{title:this.$i18n.t("page.resetPassword.title")}},setup:function(e,t){var n=ue(t),r=n.isReady,a=n.visibleInfo,i=n.seeHandler,s=t.root,o=Object(F["g"])(null),u=Object(F["g"])(null),c=Object(F["g"])(null),l=Object(F["g"])(!1),d=Object(F["g"])(!1),p=Object(F["f"])({new_password:"abc123",confrimPw:"abc123"}),f=Object(F["f"])({isOpen:!1,message:"",eventName:"resetFeedBack"}),m=Object(F["a"])((function(){return s.$store.state.auth.passwordToken})),h=Object(F["a"])((function(){return""!==m.value})),g=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return l.value=!0,e.next=8,b();case 8:l.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.reset_password({temp_access_token:m.value,new_password:p.new_password});case 2:t=e.sent,n=t.status,r=t.info,d.value=n,f.isOpen=!0,f.message=n?"修改密碼成功":r.rcrm.RM;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){d.value&&(s.$store.commit("auth/setPasswordToken",""),s.$router.replace("/login")),f.isOpen=!1};return Object(F["d"])((function(){h.value||s.$router.push("/member/forgotPassword")})),{isReady:r,visibleInfo:a,seeHandler:i,pwInput:o,confirmInput:u,form:c,isLoading:l,resetSuccess:d,user:p,msgOption:f,submitHandler:g,resetFeedBack:_}}},At=_t,wt=Object(l["a"])(At,gt,bt,!1,null,null,null),yt=wt.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("InputPopup",{ref:"inputPopup",attrs:{isOpen:e.popupOption.isOpen,popupTitle:e.popupOption.popupTitle,message:e.popupOption.message,inputType:e.popupOption.inputType,placeholder:e.popupOption.placeholder,eventName:e.popupOption.eventName,validateRule:e.popupOption.validateRule},on:{verifyPw:e.verifyPw}}),n("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{updateFeedBack:e.updateFeedBack}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e.isVerified?n("div",{staticClass:"mycontainer"},[n("validation-observer",{ref:"form",staticClass:"dataOuter",attrs:{tag:"div"}},[n("div",{staticClass:"dataBox"},[n("p",{staticClass:"dataTitle"},[e._v("基本資料")]),n("div",{staticClass:"dataBody"},[n("div",{staticClass:"dataRow"},[n("div",{staticClass:"block"},[n("router-link",{attrs:{to:"/member/fixMobile"}},[e._v(e._s(e.user.data.mobile))])],1),n("p",{staticClass:"dataName"},[e._v("帳號")])]),n("div",{staticClass:"dataRow"},[n("div",{staticClass:"block"},[n("router-link",{staticClass:"leftIcon",attrs:{to:"/member/updatePassword"}})],1),n("p",{staticClass:"dataName"},[e._v("密碼")])])])]),n("div",{staticClass:"dataBox"},[n("div",{staticClass:"dataBody"},[n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.data.name,expression:"user.data.name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入您的姓名"},domProps:{value:e.user.data.name},on:{input:function(t){t.target.composing||e.$set(e.user.data,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("姓名")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}],null,!1,1932160599)}),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.data.gender,expression:"user.data.gender"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user.data,"gender",t.target.multiple?n:n[0])}}},e._l(e.genderList,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.title))])})),0),n("p",{staticClass:"dataName"},[e._v("性別")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}],null,!1,3183918040)})],1)]),n("div",{staticClass:"dataBox"},[n("div",{staticClass:"dataBody"},[n("div",{staticClass:"dataRow"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.data.email,expression:"user.data.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",placeholder:"請輸入電子信箱"},domProps:{value:e.user.data.email},on:{input:function(t){t.target.composing||e.$set(e.user.data,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("電子信箱")])]),n("div",{staticClass:"dataRow"},[n("div",{staticClass:"block"},[n("span",[e._v(e._s(e.user.data.birthday))])]),n("p",{staticClass:"dataName"},[e._v("出生日期")])]),n("div",{staticClass:"dataRow"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.resideInfo.city,expression:"resideInfo.city"}],staticClass:"form-control",class:{selectDown:""===e.resideInfo.city},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.resideInfo,"city",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}}),e._l(e.cityList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2),n("p",{staticClass:"dataName"},[e._v("縣市")]),n("div",{staticClass:"downIcon",class:{hide:""!==e.resideInfo.city}})]),n("div",{staticClass:"dataRow"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.resideInfo.district,expression:"resideInfo.district"}],staticClass:"form-control",class:{selectDown:""===e.resideInfo.district},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.resideInfo,"district",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}}),e._l(e.districtList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2),n("p",{staticClass:"dataName"},[e._v("地區")]),n("div",{staticClass:"downIcon",class:{hide:""!==e.resideInfo.district}})]),n("div",{staticClass:"dataRow"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.data.address,expression:"user.data.address",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入地址"},domProps:{value:e.user.data.address},on:{input:function(t){t.target.composing||e.$set(e.user.data,"address",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("詳細地址")])])])]),n("div",{staticClass:"dataBox"},[n("div",{staticClass:"dataBody"},[n("div",{staticClass:"dataRow"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.data.security_question,expression:"user.data.security_question"}],staticClass:"form-control eigthInput",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user.data,"security_question",t.target.multiple?n:n[0])}}},e._l(e.questionList,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.title))])})),0),n("p",{staticClass:"dataName"},[e._v("忘記密碼安全問題")])]),n("validation-provider",{staticClass:"dataRow",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.data.security_answer,expression:"user.data.security_answer",modifiers:{trim:!0}}],staticClass:"form-control sixInput",attrs:{type:"text",placeholder:"請輸入答案"},domProps:{value:e.user.data.security_answer},on:{input:function(t){t.target.composing||e.$set(e.user.data,"security_answer",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{staticClass:"dataName"},[e._v("安全問題答案")]),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}],null,!1,1806196813)})],1)])]),n("div",{staticClass:"btnBox"},[n("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("儲存")])])],1):e._e()],1)},Ct=[],xt={name:"maintain",metaInfo:function(){return{title:this.$i18n.t("page.maintain.title")}},setup:function(e,t){var n=t.root,r=ye(),a=r.genderList,i=r.questionList,o=Ue(),u=o.resideInfo,c=o.cityList,l=o.districtList,d=Object(F["g"])(!1),p=Object(F["g"])(!1),f=Object(F["g"])(null),m=Object(F["g"])(null),h=Object(F["f"])({data:{}}),g=Object(F["f"])({isOpen:!1,popupTitle:"請輸入會員密碼",message:"為了保護您的個人資料，請輸入會員密碼以進入會員資料維護。",inputType:"password",eventName:"verifyPw",placeholder:"請輸入會員密碼",validateRule:"required|password"}),b=Object(F["f"])({isOpen:!1,popupTitle:"提示",message:"",eventName:"updateFeedBack"}),_=Object(F["a"])((function(){return n.$store.state.auth.pwVerified})),A=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d.value=!0,e.next=3,n.$store.dispatch("auth/verifyPassword",t);case 3:if(r=e.sent,a=r.status,i=r.info,!a){e.next=13;break}return e.next=9,w();case 9:p.value=!0,g.isOpen=!1,e.next=14;break;case 13:f.value.$refs.form.setErrors({name:[i.rcrm.RM]});case 14:d.value=!1;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.get_member_profile();case 2:if(t=e.sent,r=t.status,a=t.info,r){e.next=7;break}return e.abrupt("return");case 7:return i=a.results.member_profile,void 0===i.email&&(i.email=""),h.data=i,u.city=i.city,e.next=13,n.$nextTick();case 13:u.district=i.district;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return d.value=!0,e.next=8,O();case 8:d.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.update_member_profile(Object(s["a"])(Object(s["a"])({},h.data),{},{city:u.city,district:u.district}));case 2:t=e.sent,b.isOpen=!0,b.message=t.status?"更新成功":"更新失敗";case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){b.isOpen=!1};return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g.isOpen=!_.value,p.value=_.value,!p.value){e.next=7;break}return d.value=!0,e.next=6,w();case 6:d.value=!1;case 7:case"end":return e.stop()}}),e)})))),{genderList:a,questionList:i,isLoading:d,isVerified:p,popupOption:g,verifyPw:A,inputPopup:f,user:h,submitHandler:y,resideInfo:u,cityList:c,districtList:l,form:m,msgOption:b,updateFeedBack:C}}},kt=xt,jt=(n("11b7"),Object(l["a"])(kt,Ot,Ct,!1,null,"120626b8",null)),It=jt.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"mycontainer"},[r("div",{attrs:{id:"logoBox"}},[r("img",{attrs:{src:n("5212")}})]),r("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("手機號碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.mobile,expression:"user.mobile",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"請輸入新的手機號碼",maxlength:"10"},domProps:{value:e.user.mobile},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1),r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("密碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],ref:"pwInput",staticClass:"form-control pwInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字",maxLength:"12"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("div",{staticClass:"visibleBox",class:{show:e.visible,hide:!e.visible},on:{click:e.seeHandler}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1)]),r("div",{staticClass:"btnBox login"},[r("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("確定")])])],1),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{fix:e.fixHandler}})],1)},Pt=[],Lt={name:"fixPassword",metaInfo:function(){return{title:this.$i18n.t("page.fixPassword.title")}},data:function(){return{visible:!1,user:{mobile:"",password:""},msgOption:{isOpen:!1,message:"",eventName:"fix"},isLoading:!1,fixSuccess:!1}},methods:{seeHandler:function(){this.visible=!this.visible},setInputType:function(){var e=this.visible?"text":"password";this.$refs.pwInput.type=e},submitHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return e.isLoading=!0,t.next=8,T.update_member_mobile(e.user);case 8:r=t.sent,a=r.status,i=r.info,e.fixSuccess=a,e.msgOption.message=a?"修改成功":i.rcrm.RM,e.msgOption.isOpen=!0,e.isLoading=!1;case 15:case"end":return t.stop()}}),t)})))()},fixHandler:function(){this.fixSuccess&&this.$router.push("/member/memberVerify"),this.msgOption.isOpen=!1}},mounted:function(){this.setInputType()},watch:{visible:function(){this.setInputType()}}},Rt=Lt,St=(n("2593"),Object(l["a"])(Rt,Tt,Pt,!1,null,"034a310f",null)),Bt=St.exports,Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mycontainer"},[r("div",{attrs:{id:"logoBox"}},[r("img",{attrs:{src:n("5212")}})]),r("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("手機驗證碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.verify_code,expression:"user.verify_code",modifiers:{trim:!0}}],staticClass:"form-control fiveInput",attrs:{type:"password"},domProps:{value:e.user.verify_code},on:{input:function(t){t.target.composing||e.$set(e.user,"verify_code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1)]),r("div",{staticClass:"btnBox"},[r("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("驗證")])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{verifyFeedBack:e.verifyFeedBack}})],1)},$t=[],Et={name:"memberVerify",metaInfo:function(){return{title:this.$i18n.t("page.memberVerify.title")}},data:function(){return{user:{verify_code:"999999"},msgOption:{isOpen:!1,message:"",eventName:"verifyFeedBack"},isLoading:!1,verifySuccess:!1}},methods:{submitHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate().then((function(e){return e}));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return e.isLoading=!0,t.next=8,e.verifyHandler();case 8:e.isLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},verifyHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.member_verify({verify_code:e.user.verify_code});case 2:n=t.sent,r=n.status,a=n.info,e.verifySuccess=r,e.msgOption.message=r?"驗證成功":a.rcrm.RM,e.msgOption.isOpen=!0;case 8:case"end":return t.stop()}}),t)})))()},verifyFeedBack:function(){this.verifySuccess&&this.$router.replace("/member/maintain"),this.msgOption.isOpen=!1}}},qt=Et,Ht=Object(l["a"])(qt,Nt,$t,!1,null,null,null),Mt=Ht.exports,Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mycontainer"},[r("div",{attrs:{id:"logoBox"}},[r("img",{attrs:{src:n("5212")}})]),r("validation-observer",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("舊密碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.old_password,expression:"user.old_password",modifiers:{trim:!0}}],ref:"oldInput",staticClass:"form-control pwInput",attrs:{type:"password",placeholder:"請輸入舊密碼",maxLength:"12"},domProps:{value:e.user.old_password},on:{input:function(t){t.target.composing||e.$set(e.user,"old_password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isReady?r("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[0].show,hide:!e.visibleInfo[0].show},on:{click:function(t){return e.seeHandler("0")}}}):e._e(),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1),r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("新密碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",vid:"a",rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.new_password,expression:"user.new_password",modifiers:{trim:!0}}],ref:"newInput",staticClass:"form-control pwInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字",maxLength:"12"},domProps:{value:e.user.new_password},on:{input:function(t){t.target.composing||e.$set(e.user,"new_password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isReady?r("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[1].show,hide:!e.visibleInfo[1].show},on:{click:function(t){return e.seeHandler("1")}}}):e._e(),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1),r("div",{staticClass:"formRow"},[r("p",{staticClass:"formTitle"},[e._v("確認新密碼")]),r("validation-provider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|confirmPw:@a"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confrimPw,expression:"user.confrimPw",modifiers:{trim:!0}}],ref:"confirmInput",staticClass:"form-control pwInput fiveInput",attrs:{type:"password",placeholder:"6 - 12 碼英數字",maxLength:"12"},domProps:{value:e.user.confrimPw},on:{input:function(t){t.target.composing||e.$set(e.user,"confrimPw",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isReady?r("div",{staticClass:"visibleBox",class:{show:e.visibleInfo[2].show,hide:!e.visibleInfo[2].show},on:{click:function(t){return e.seeHandler("2")}}}):e._e(),r("p",{directives:[{name:"show",rawName:"v-show",value:0!==n.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(n[0]))])]}}])})],1)]),r("div",{staticClass:"btnBox"},[r("button",{staticClass:"variation",on:{click:e.submitHandler}},[e._v("確定")])]),r("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),r("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{updateFeedBack:e.updateFeedBack}})],1)},Ut=[],Ft={name:"updatePassword",metaInfo:function(){return{title:this.$i18n.t("page.updatePassword.title")}},setup:function(e,t){var n=ue(t),r=n.isReady,a=n.visibleInfo,i=n.seeHandler,s=t.root,o=Object(F["g"])(!1),u=Object(F["g"])(!1),c=Object(F["g"])(null),l=Object(F["f"])({old_password:"",new_password:"",confrimPw:""}),d=Object(F["f"])({isOpen:!1,message:"",eventName:"updateFeedBack"}),p=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return o.value=!0,e.next=8,f();case 8:o.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.update_member_password({old_password:l.old_password,new_password:l.new_password});case 2:t=e.sent,n=t.status,r=t.info,u.value=n,d.isOpen=!0,d.message=n?"更新密碼成功":r.rcrm.RM;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u.value&&s.$router.replace("/member/maintain"),d.isOpen=!1;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isReady:r,visibleInfo:a,seeHandler:i,user:l,msgOption:d,isLoading:o,updateSuccess:u,form:c,submitHandler:p,updateFeedBack:m}}},Vt=Ft,Jt=Object(l["a"])(Vt,Dt,Ut,!1,null,null,null),Yt=Jt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mycontainer"},[n("div",{staticClass:"levelWrap"},e._l(e.levelArr,(function(e,t){return n("LevelBox",{key:t,attrs:{title:e.title,source:e.source}})})),1),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},zt=[],Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"levelBox"},[n("div",{staticClass:"levelTitle"},[e._v(e._s(e.title))]),n("div",{staticClass:"levelBody"},e._l(e.progressList,(function(t,r){return n("ProgressItem",{key:e.levelId+"-"+r,attrs:{amount:t.amount,requirement:t.requirement,type:t.type}})})),1)])},Kt=[],Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"progressItem"},[n("div",{staticClass:"progressTop"},[n("div",{staticClass:"title"},[e._v(e._s(e.progressTitle))]),n("div",{staticClass:"info"},[n("span",[e._v(e._s(e.progressDesc))])])]),n("div",{staticClass:"progressBar"},[n("div",{staticClass:"run",class:{complete:e.isComplete},style:e.size})])])},Zt=[],Gt=(n("99af"),{props:{amount:{type:String,default:""},requirement:{type:String,default:""},type:{type:String,default:""}},data:function(){return{size:{width:"0%"}}},computed:{isAmount:function(){return"amount"===this.type},progressTitle:function(){return this.isAmount?"累計消費":"消費次數"},progressDesc:function(){var e=this.isAmount?"$":"次",t="";return t=this.isAmount?"".concat(e).concat(this.amount," / ").concat(e).concat(this.requirement):"".concat(this.amount).concat(e," / ").concat(this.requirement).concat(e),t},percent:function(){var e=this.cammaToNumber(this.amount),t=this.cammaToNumber(this.requirement);return Math.floor(e/t*100)},isComplete:function(){return this.percent>=100}},methods:{cammaToNumber:function(e){var t=e.replace(/,/g,"");return t=""!==t?t:"0",parseInt(t)}},mounted:function(){var e=this;setTimeout((function(){e.size.width="".concat(e.percent,"%")}),0)}}),en=Gt,tn=(n("9f38"),Object(l["a"])(en,Qt,Zt,!1,null,"7b71f3d3",null)),nn=tn.exports,rn={props:{title:{type:String,default:""},source:{type:Object,required:!0}},computed:{levelId:function(){return this.source.level_id},progressList:function(){return this.source.progress}},components:{ProgressItem:nn}},an=rn,sn=(n("c7f4"),Object(l["a"])(an,Wt,Kt,!1,null,"eabb3640",null)),on=sn.exports,un={name:"level",metaInfo:function(){return{title:this.$i18n.t("page.memberLevel.title")}},data:function(){return{levelArr:[],isLoading:!1}},methods:{getMemberSummary:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.member_summary();case 2:n=t.sent,r=n.info.results.level_summary,a=r.next_level,i=r.renew_level,void 0!==a&&0!==a.progress.length&&e.levelArr.push({title:"達成以下任一條件即可升等",source:a}),void 0!==i&&0!==i.progress.length&&e.levelArr.push({title:"達成以下任一條件即可續等",source:i});case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.getMemberSummary();case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},components:{LevelBox:on}},cn=un,ln=Object(l["a"])(cn,Xt,zt,!1,null,null,null),dn=ln.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mycontainer"},[n("DateSidebar",{attrs:{isOpen:e.isSidebarOpen,startTime:e.dateRange.start,endTime:e.dateRange.end},on:{"update:isOpen":function(t){e.isSidebarOpen=t},"update:is-open":function(t){e.isSidebarOpen=t},"update:startTime":function(t){return e.$set(e.dateRange,"start",t)},"update:start-time":function(t){return e.$set(e.dateRange,"start",t)},"update:endTime":function(t){return e.$set(e.dateRange,"end",t)},"update:end-time":function(t){return e.$set(e.dateRange,"end",t)},invalid:e.invalidHandler,history:e.updateHandler}}),n("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{invaildFeedback:e.invaildFeedback}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasHistoryData,expression:"hasHistoryData"}],staticClass:"historyBlock"},[n("ul",{staticClass:"tradeList"},e._l(e.tradeList.data,(function(e){return n("TradeList",{key:e.orderId,attrs:{dateText:e.dateText,tradeData:e.data}})})),1),n("p",{staticClass:"tipBox center"},[e._v("僅顯示最近 6 個月內紀錄")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPagLoading,expression:"isPagLoading"}],staticClass:"pagTip"},[e._v("資料加載中...")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasNextPage,expression:"!hasNextPage"}],staticClass:"pagTip"},[e._v("已經到最底囉～")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showEmptyBlock,expression:"showEmptyBlock"}],staticClass:"emptyBlock"},[n("div",{staticClass:"emptyBg"}),n("p",[e._v("您目前還沒有消費紀錄哦！")])]),n("div",{staticClass:"toggleSidebar",on:{click:function(t){e.isSidebarOpen=!0}}}),n("div",{staticClass:"sidebarCover",class:{show:e.isSidebarOpen}})],1)},fn=[],vn=(n("a630"),n("6062"),n("3ca3"),n("ddb0"),n("5a0c")),mn=n.n(vn),hn={history:function(e){return b({url:"/transaction/transaction_history",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},detail:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",b({url:"/transaction/transaction_detail",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})))()}},gn={search_brand:function(){return b({url:"/brand/search_brand",method:"post",data:{}}).then((function(e){return e.data}))},brand_information:function(e){return b({url:"/brand/brand_information",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))}},bn=function(){var e=mn()(),t=Object(F["f"])({start:e.subtract(6,"month").format("YYYY-MM-DD"),end:e.format("YYYY-MM-DD")}),n=Object(F["a"])((function(){var e=t.start.replace(/-/g,"/"),n=t.end.replace(/-/g,"/");return{start:e,end:n}})),r=Object(F["f"])({isOpen:!1,message:"",eventName:"invaildFeedback"}),a=function(e){var t=e.msg;r.isOpen=!0,r.message=t},i=function(){r.isOpen=!1};return{dateRange:t,dateFormat:n,msgOption:r,invalidHandler:a,invaildFeedback:i}},_n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{show:e.isOpen},attrs:{id:"sidebar"}},[n("div",{staticClass:"sidebarPanel"},[n("div",{staticClass:"empty",on:{click:e.closeHandler}},[e._v("取消")]),n("div",{staticClass:"seekText"},[e._v("搜尋")]),n("div",{staticClass:"sureText",on:{click:e.checkHandler}},[e._v("確定")])]),n("validation-observer",{ref:"form",staticClass:"sidebarFilter",attrs:{tag:"ul"}},[n("li",[n("div",{staticClass:"filterTitle"},[e._v("開始日期")]),n("validation-provider",{staticClass:"dateOuter",attrs:{tag:"div",rules:"required"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.beginDate,expression:"beginDate"}],attrs:{type:"date"},domProps:{value:e.beginDate},on:{input:function(t){t.target.composing||(e.beginDate=t.target.value)}}}),n("div",{staticClass:"arrowBox"})])],1),n("li",[n("div",{staticClass:"filterTitle"},[e._v("開始日期")]),n("validation-provider",{staticClass:"dateOuter",attrs:{tag:"div",rules:"required"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.finishDate,expression:"finishDate"}],attrs:{type:"date"},domProps:{value:e.finishDate},on:{input:function(t){t.target.composing||(e.finishDate=t.target.value)}}}),n("div",{staticClass:"arrowBox"})])],1)])],1)},An=[],wn=n("d758"),yn=n.n(wn),On=n("e418"),Cn=n.n(On);mn.a.extend(yn.a),mn.a.extend(Cn.a);var xn,kn={props:{isOpen:{type:Boolean,default:!0},startTime:{type:String,defualt:""},endTime:{type:String,defualt:""}},setup:function(e,t){var n=t.emit,r=Object(F["g"])(null),a=Object(F["a"])({get:function(){return e.startTime},set:function(e){n("update:startTime",e)}}),i=Object(F["a"])({get:function(){return e.endTime},set:function(e){n("update:endTime",e)}}),s=function(e){n("invalid",{msg:e})},o=function(){var e=mn()(a.value),t=mn()(i.value),n=t.isSameOrAfter(e);return n||s("結束日需大於開始日"),n},u=function(){var e=mn()(),t=e.subtract(6,"month"),n=e.format("YYYY/MM/DD"),r=t.format("YYYY/MM/DD"),o=mn()(a.value),u=mn()(i.value),c=o.isBetween(r,n,null,"[]"),l=u.isBetween(r,n,null,"[]"),d=c&&l;return d||s("搜尋區間區需在".concat(r," ~ ").concat(n)),d},c=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.value.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",s("請輸入日期"));case 5:if(o()){e.next=7;break}return e.abrupt("return");case 7:if(u()){e.next=9;break}return e.abrupt("return");case 9:n("history");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){n("update:isOpen",!1)};return{beginDate:a,finishDate:i,checkHandler:c,form:r,closeHandler:l}}},jn=kn,In=Object(l["a"])(jn,_n,An,!1,null,null,null),Tn=In.exports,Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("p",{staticClass:"title"},[e._v(e._s(e.dateText))]),n("div",{staticClass:"tradeItemBox"},e._l(e.tradeData,(function(e){return n("TradeItem",{key:e.transaction_id,attrs:{tradeInfo:e}})})),1)])},Ln=[],Rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tradeItem",staticClass:"tradeItem"},[n("div",{ref:"typeBox",staticClass:"typeBox",on:{click:e.showDetail}},[n("div",{staticClass:"content"},[n("div",{staticClass:"storeInfo"},[n("div",{staticClass:"logoBox"},[n("img",{attrs:{src:e.brandLogo,alt:""}}),n("span",[e._v(e._s(e.tradeInfo.brandTitle))])]),n("div",{staticClass:"payment"},[e._v(e._s(e.payment))])]),n("ul",{staticClass:"invoiceInfo"},e._l(e.tradeInfo.meta,(function(t){return n("li",{key:t.value,staticClass:"invoiceRow"},[n("div",{staticClass:"name"},[e._v(e._s(t.key))]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"value"},[e._v(e._s(t.value))])])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"getDetail"},[e._v("載入交易詳情中...")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"infoBox"},[n("p",{staticClass:"title"},[e._v("消費品項")]),n("div",{staticClass:"content"},[n("ul",{staticClass:"itemList"},e._l(e.tradeDetail.data.transaction_entries,(function(t,r){return n("li",{key:r},[n("p",{staticClass:"itemName"},[e._v(e._s(t.title))]),n("div",{staticClass:"itemInfo"},[n("div",[e._v(e._s(t.price)+" x "+e._s(t.quantity))]),n("div",[e._v(e._s(t.total)+"元")])])])})),0),n("ul",{staticClass:"summaryList"},[n("li",{staticClass:"total"},[n("div",[e._v("合計:")]),n("div",[e._v(e._s(e.tradeDetail.data.amount)+"元")])])])])])])},Sn=[],Bn=n("2ef0"),Nn=n.n(Bn),$n={props:{tradeInfo:{type:Object,requored:!0}},setup:function(e,t){var r=t.root,a=Object(F["h"])(e),i=a.tradeInfo,s=Object(F["g"])(!1),o=Object(F["g"])(!1),u=Object(F["g"])(null),c=Object(F["f"])({data:{}}),l=Object(F["a"])((function(){var e=i.value.brandImage;return""!==e?e:n("18f7")})),d=Object(F["a"])((function(){var e="normal"===i.value.transaction_type?"+":"-";return"".concat(e).concat(i.value.amount,"元")})),p=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o.value){e.next=2;break}return e.abrupt("return");case 2:if(!Nn.a.isEmpty(c.data)){e.next=10;break}return o.value=!0,e.next=6,hn.detail({transaction_id:i.value.transaction_id});case 6:t=e.sent,n=t.info,c.data=n.results.transaction_detail,o.value=!1;case 10:return s.value=!s.value,e.next=13,r.$nextTick();case 13:s.value&&(a=u.value.offsetTop,window.scrollTo(0,a-20-45));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{brandLogo:l,payment:d,showDetail:p,tradeDetail:c,isLoading:o,isOpen:s,tradeItem:u}}},En=$n,qn=Object(l["a"])(En,Rn,Sn,!1,null,null,null),Hn=qn.exports,Mn={props:{dateText:{type:String,required:!0},tradeData:{type:Array,required:!0}},components:{TradeItem:Hn}},Dn=Mn,Un=(n("a6a8"),Object(l["a"])(Dn,Pn,Ln,!1,null,null,null)),Fn=Un.exports,Vn={name:"transaction",metaInfo:function(){return{title:this.$i18n.t("page.transaction.title")}},setup:function(e,t){var n=t.root,r=bn(),a=r.dateRange,i=r.dateFormat,o=r.msgOption,u=r.invalidHandler,c=r.invaildFeedback,l=Object(F["g"])(!1),d=Object(F["g"])(!1),p=Object(F["g"])(!1),f=Object(F["g"])(0),m=Object(F["f"])({data:[]}),h=Object(F["f"])({data:[]}),g=Object(F["a"])((function(){return null!==f.value})),b=Object(F["a"])((function(){return h.data.length>0})),_=Object(F["a"])((function(){return!d.value&&!b.value})),A=Object(F["a"])((function(){if(0===m.data.length)return[];var e=new Set;return m.data.forEach((function(t){var n=mn()(t.datetime).format("YYYY / MM");e.add(n)})),Array.from(e)})),w=function(){var e=m.data.map((function(e){return e.brand_id}));return Array.from(new Set(e))},y=function(e){return m.data.reduce((function(t,n){var r=n.brand_id,a=e.find((function(e){return e.brand_id===r})),i=a.title,o=a.feature_image_small;return t.push(Object(s["a"])(Object(s["a"])({},n),{},{brandTitle:i,brandImage:o.url||""})),t}),[])},O=function(e){return A.value.reduce((function(t,n,r){var a=e.filter((function(e){var t=mn()(e.datetime).format("YYYY / MM");return t===n}));return t.push({dateText:n,orderId:r,data:a}),t}),[])},C=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.value,n=t.start,r=t.end,e.next=3,hn.history({query_start_datetime:"".concat(n," 00:00:00"),query_end_datetime:"".concat(r," 23:59:59"),offset:f.value});case 3:return a=e.sent,f.value=a.info.next,e.abrupt("return",a.info.results.transaction_history);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.value=!0,e.next=3,C();case 3:if(n=e.sent,m.data=t?m.data.concat(n):n,0===n.length){e.next=15;break}return r=w(),e.next=9,gn.brand_information({brand_ids:r,full_info:!1});case 9:a=e.sent,i=a.info,s=y(i.results.brand_information),h.data=O(s),e.next=16;break;case 15:h.data=[];case 16:p.value=!1;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d.value=!0,f.value=0,e.next=4,x(!1);case 4:return e.next=6,n.$nextTick();case 6:window.scrollTo(0,0),l.value=!1,d.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){if(!p.value){var e=window.innerHeight,t=document.documentElement.scrollHeight,n=t-e,r=window.pageYOffset;r>=.95*n&&g.value&&x(!0)}};return Object(F["d"])((function(){k(),window.addEventListener("scroll",j)})),Object(F["c"])((function(){window.removeEventListener("scroll",j)})),{isSidebarOpen:l,dateRange:a,invalidHandler:u,msgOption:o,invaildFeedback:c,updateHandler:k,isLoading:d,tradeList:h,showEmptyBlock:_,hasHistoryData:b,isPagLoading:p,hasNextPage:g}},components:{DateSidebar:Tn,TradeList:Fn}},Jn=Vn,Yn=(n("e173"),Object(l["a"])(Jn,pn,fn,!1,null,"6c9b1526",null)),Xn=Yn.exports,zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"point_section",class:{hasExpire:e.hasExpiredPoint}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasUserPoint,expression:"hasUserPoint"}],staticClass:"fixBox"},[n("div",{staticClass:"pointIntro"},[n("p",{staticClass:"pointName"},[e._v(e._s(e.pointName))]),n("div",{staticClass:"pointTotal"},[n("span",{staticClass:"count"},[e._v(e._s(e.currentPointAmount))]),n("span",[e._v("點")])]),n("div",{staticClass:"pointPeriod"},[e.hideDuration?[n("div",[e._v("常規點數")])]:[n("div",[e._v("使用期間")]),n("div",[e._v(":")]),n("div",[e._v(e._s(e.pointUsageTime))])]],2)]),e.hasExpiredPoint?n("div",{staticClass:"expireBox",on:{click:function(t){e.expiredPopupIsOpen=!0}}},[n("div",{staticClass:"inner"},[n("span",[e._v("即將到期點數")]),n("span",{staticClass:"expirePoint"},[e._v(e._s(e.expiredPointAmount))]),n("span",[e._v("點")]),n("span",{staticClass:"pointArrow"})])]):e._e()]),e.showEmptyBlock?n("div",{staticClass:"noRecord"},[n("div",{staticClass:"pigBg"}),n("div",{staticClass:"tipBox center"},[e._v(" 您沒有點數記錄呦！若您已經有消費但尚未獲得點數，您的點數會在交易完成後入帳，或請洽詢客服人員。 ")])]):e._e(),n("div",[e.hasPointHistory?n("ul",{staticClass:"pointHistoryList"},e._l(e.pointHistory.data,(function(t){return n("PointHistoryList",{key:t.orderIndex,attrs:{dateText:t.dateText,lists:t.data},on:{detail:e.showHistoryDetail}})})),1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPagLoading,expression:"isPagLoading"}],staticClass:"pagTip"},[e._v("資料加載中...")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasNextPage,expression:"!hasNextPage"}],staticClass:"pagTip"},[e._v("已經到最底囉～")])]),n("PointPopup",{attrs:{isOpen:e.expiredPopupIsOpen,pointTitle:"即將到期點數",pointAmount:e.expiredPointAmount},on:{"update:isOpen":function(t){e.expiredPopupIsOpen=t},"update:is-open":function(t){e.expiredPopupIsOpen=t}}},[n("p",{staticClass:"recentlyExpireText"},[e._v("最近 "+e._s(e.expiredTotal)+" 筆到期點數")]),n("ul",{staticClass:"expireList"},e._l(e.expiredList,(function(t,r){return n("li",{key:r},[n("div",[n("span",{staticClass:"date"},[e._v(e._s(t.date))]),e._v("到期 ")]),n("div",[n("span",{staticClass:"point"},[e._v(e._s(t.amount))]),e._v("點 ")])])})),0)]),n("PointPopup",{attrs:{isOpen:e.tradePopupIsOpen,pointTitle:e.tradeDetail.transaction_type,pointAmount:e.tradeDetail.amount},on:{"update:isOpen":function(t){e.tradePopupIsOpen=t},"update:is-open":function(t){e.tradePopupIsOpen=t}}},[n("ul",{staticClass:"tradeMetaList"},e._l(e.tradeDetail.meta,(function(t,r){return n("li",{key:r},[n("div",{staticClass:"title"},[e._v(e._s(t.key))]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(t.value))])])})),0)]),n("DateSidebar",{attrs:{isOpen:e.isSidebarOpen,startTime:e.dateRange.start,endTime:e.dateRange.end},on:{"update:isOpen":function(t){e.isSidebarOpen=t},"update:is-open":function(t){e.isSidebarOpen=t},"update:startTime":function(t){return e.$set(e.dateRange,"start",t)},"update:start-time":function(t){return e.$set(e.dateRange,"start",t)},"update:endTime":function(t){return e.$set(e.dateRange,"end",t)},"update:end-time":function(t){return e.$set(e.dateRange,"end",t)},invalid:e.invalidHandler,history:e.updateHandler}}),n("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{invaildFeedback:e.invaildFeedback}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),n("div",{staticClass:"toggleSidebar",on:{click:function(t){e.isSidebarOpen=!0}}}),n("div",{staticClass:"sidebarCover",class:{show:e.isSidebarOpen}}),n("router-link",{staticClass:"fixBlock",attrs:{to:{name:"pointDesc",params:{point_id:e.pointId}}}},[e._v(" 點數說明 ")])],1)},Wn=[],Kn=(n("1276"),{point_history:function(e){return b({url:"/point/point_history",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},pointDueToExpire:function(e){return b({url:"/point/point_due_to_expire",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},pointInfo:function(e){return b({url:"/point/point_information",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},externalPointInfo:function(e){return b({url:"/point/external_point_information",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))}}),Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"pointPopup"},[n("div",{staticClass:"closeIcon",on:{click:e.closeHandler}}),n("div",{staticClass:"point-content"},[n("div",{staticClass:"point-header",class:{center:!e.showPointAmount}},[n("p",[e._v(e._s(e.pointTitle))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.showPointAmount,expression:"showPointAmount"}]},[e._v(e._s(e.pointAmount)+" 點")])]),n("div",{staticClass:"point-body"},[e._t("default")],2)])])},Zn=[],Gn={props:{isOpen:{type:Boolean,default:!1},pointTitle:{type:String,default:""},pointAmount:{type:[Number,String],default:0},showPointAmount:{type:Boolean,default:!0}},methods:{closeHandler:function(){this.$emit("update:isOpen",!1)}}},er=Gn,tr=(n("b614"),Object(l["a"])(er,Qn,Zn,!1,null,"983dba28",null)),nr=tr.exports,rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("p",{staticClass:"title"},[e._v(e._s(e.dateText))]),n("div",{staticClass:"inner"},e._l(e.lists,(function(t){return n("PointItem",{key:t.transaction_id,attrs:{transactionId:t.transaction_id,amount:t.amount,datetime:t.datetime,transactionType:t.transaction_type},on:{detail:function(t){return e.$emit("detail",t)}}})})),1)])},ar=[],ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pointContent",on:{click:e.clickHandler}},[n("div",{staticClass:"summaryBox"},[n("div",{staticClass:"typeText"},[e._v(e._s(e.transactionType))]),n("div",{staticClass:"payment"},[e._v(e._s(e.amount)+" 元")])]),n("ul",{staticClass:"invoiceInfo"},[n("li",{staticClass:"invoiceRow"},[n("div",{staticClass:"name"},[e._v("交易序號")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"value"},[e._v(e._s(e.transactionId))])]),n("li",{staticClass:"invoiceRow"},[n("div",{staticClass:"name"},[e._v("點數交易")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"value"},[e._v(e._s(e.datetime))])])])])},sr=[],or={props:{transactionId:{type:String,required:!0},amount:{type:String,required:!0},datetime:{type:String,required:!0},transactionType:{type:String,required:!0}},methods:{clickHandler:function(){this.$emit("detail",this.transactionId)}}},ur=or,cr=(n("09cd"),Object(l["a"])(ur,ir,sr,!1,null,"dd7e85e6",null)),lr=cr.exports,dr={props:{dateText:{type:String,default:""},lists:{type:Array,required:!0}},components:{PointItem:lr}},pr=dr,fr=(n("d291"),Object(l["a"])(pr,rr,ar,!1,null,"a228ff00",null)),vr=fr.exports,mr={name:"pointInfo",metaInfo:function(){return{title:this.$i18n.t("page.pointInfo.title")}},setup:function(e,t){var n=t.root,r=bn(),a=r.dateRange,i=r.dateFormat,s=r.msgOption,o=r.invalidHandler,u=r.invaildFeedback,c=Object(F["g"])(0),l=Object(F["g"])(!1),d=Object(F["g"])(""),p=Object(F["g"])(!1),f=Object(F["g"])(!1),m=Object(F["g"])(!1),h=Object(F["g"])(0),g=Object(F["g"])(!1),b=Object(F["g"])(""),_=Object(F["f"])({data:{}}),A=Object(F["f"])({data:[]}),w=Object(F["f"])({data:[]}),y=Object(F["f"])({data:[]}),O=Object(F["a"])((function(){return!Nn.a.isEmpty(_.data)})),C=Object(F["a"])((function(){return null!==h.value})),x=Object(F["a"])((function(){return O.value?_.data.title:""})),k=Object(F["a"])((function(){if(!O.value)return"";var e=E(_.data.point_circulate_start_datetime),t=E(_.data.point_circulate_end_datetime);return"".concat(e," ~ ").concat(t)})),j=Object(F["a"])((function(){return!!O&&_.data.hide_duration})),I=Object(F["a"])((function(){return A.data.length})),P=Object(F["a"])((function(){return I.value>0})),L=Object(F["a"])((function(){return A.data.reduce((function(e,t){var n=q(t.amount);return e+=n,e}),0)})),R=Object(F["a"])((function(){return A.data.reduce((function(e,t){return e.push({date:E(t.datetime),amount:t.amount}),e}),[])})),S=Object(F["a"])((function(){return w.data.length>0})),B=Object(F["a"])((function(){if(!S.value)return[];var e=new Set;return w.data.forEach((function(t){e.add(mn()(t.datetime).format("YYYY / MM"))})),Array.from(e)})),N=Object(F["a"])((function(){return!S.value&&!l.value&&null===h.value})),$=Object(F["a"])((function(){if(!S.value)return{};var e=w.data.find((function(e){return e.transaction_id===b.value}));return void 0!==e?e:{}})),E=function(e){return e.split(" ")[0]},q=function(e){var t=e.replace(/,/g,"");return parseInt(t)},H=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kn.pointInfo({point_id:[c.value],full_info:!1});case 2:t=e.sent,n=t.info,_.data=n.results.point_information[0];case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=B.value.reduce((function(e,t,n){var r=w.data.filter((function(e){return mn()(e.datetime).format("YYYY / MM")===t}));return e.push({orderIndex:n,dateText:t,data:r}),e}),[]);return e},D=function(e){b.value=e,f.value=!0},U=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.member_summary();case 2:t=e.sent,n=t.info,r=n.results.point_summary.current_point.find((function(e){return e.point_id===c.value})),d.value=void 0!==r?r.amount:0;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kn.pointDueToExpire({point_id:c.value});case 2:t=e.sent,n=t.info,A.data=n.results.point_due_to_expire;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kn.point_history({point_id:c.value,query_start_datetime:"".concat(i.value.start," 00:00:00"),query_end_datetime:"".concat(i.value.end," 23:59:59"),offset:h.value});case 2:n=e.sent,r=n.info,h.value=r.next,w.data=t?w.data.concat(r.results.point_history):r.results.point_history,y.data=M();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!g.value){e.next=2;break}return e.abrupt("return");case 2:if(g.value=!0,t=window.innerHeight,n=document.documentElement.scrollHeight,r=n-t,a=window.pageYOffset,!(a>=.95*r&&C.value)){e.next=10;break}return e.next=10,J(!0);case 10:g.value=!1;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l.value=!0,h.value=0,e.next=4,J(!1);case 4:l.value=!1,window.scrollTo(0,0),m.value=!1;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l.value=!0,c.value=parseInt(n.$route.params.point_id),e.next=4,H();case 4:return e.next=6,U();case 6:return e.next=8,V();case 8:return e.next=10,X();case 10:l.value=!1;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F["i"])((function(){return n.$route}),(function(){z()})),Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:z(),window.addEventListener("scroll",Y);case 2:case"end":return e.stop()}}),e)})))),Object(F["c"])((function(){window.removeEventListener("scroll",Y)})),{pointId:c,isLoading:l,pointName:x,pointUsageTime:k,hideDuration:j,hasExpiredPoint:P,expiredTotal:I,expiredPointAmount:L,currentPointAmount:d,hasUserPoint:O,expiredPopupIsOpen:p,expiredList:R,isSidebarOpen:m,updateHandler:X,invalidHandler:o,dateRange:a,msgOption:s,invaildFeedback:u,showEmptyBlock:N,hasPointHistory:S,pointHistory:y,showHistoryDetail:D,tradeDetail:$,tradePopupIsOpen:f,isPagLoading:g,hasNextPage:C}},components:{DateSidebar:Tn,PointPopup:nr,PointHistoryList:vr}},hr=mr,gr=(n("42cd"),Object(l["a"])(hr,zn,Wn,!1,null,"35e7fa58",null)),br=gr.exports,_r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"pointDesc_section"},[e.hasPointData?n("div",{staticClass:"wrap"},[n("div",{staticClass:"introBox"},[n("div",{staticClass:"topBlock"},[n("img",{attrs:{src:e.pointData.feature_image.url,alt:""}}),n("p",[e._v(e._s(e.pointData.title))])]),0!==e.metaList.length?n("ul",{staticClass:"descList"},e._l(e.metaList,(function(t,r){return n("li",{key:r},[n("div",[e._v(e._s(t.key))]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",[e._v(e._s(t.value))])])})),0):e._e()]),n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.pointData.content)}})]):e._e(),e.isLoading?n("Loading"):e._e()],1)},Ar=[],wr={name:"pointDesc",metaInfo:function(){return{title:this.$i18n.t("page.pointDesc.title")}},data:function(){return{pointId:0,pointData:{},isLoading:!1}},computed:{hasPointData:function(){return!Nn.a.isEmpty(this.pointData)},metaList:function(){return this.hasPointData?this.pointData.meta:[]}},methods:{getPointInfo:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,Kn.pointInfo({point_id:[e],full_info:!0});case 3:r=n.sent,a=r.info,t.pointData=a.results.point_information[0],t.isLoading=!1;case 7:case"end":return n.stop()}}),n)})))()}},mounted:function(){var e=parseInt(this.$route.params.point_id);this.getPointInfo(e)},watch:{$route:function(e){var t=parseInt(e.params.point_id);this.getPointInfo(t)}}},yr=wr,Or=(n("5a60"),Object(l["a"])(yr,_r,Ar,!1,null,"c2b29b96",null)),Cr=Or.exports,xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"mask"},[n("div",{staticClass:"maskInner"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"closeBg"}),n("div",{staticClass:"codeText",on:{click:e.switchBarcodeType}},[e._v(e._s(e.barcodeTypeText))])]),n("div",{staticClass:"cardBox"},[n("div",{staticClass:"cardHead"},[n("div",{staticClass:"name"},[e._v(e._s(e.memberName))]),n("div",{staticClass:"status"},[e._v(e._s(e.memberLevel))])]),n("div",{staticClass:"cardBody"},[n("div",{staticClass:"cardInner"},[n("div",{class:["codeBox",{active:1===e.barcodeTypeId}],attrs:{id:"qrcode"}},[e.hasQrcodeInfo?n("MemberQrcode",{attrs:{qrcodeInfo:e.qrcodeInfo.data}}):e._e()],1),n("div",{class:["codeBox",{active:2===e.barcodeTypeId}],attrs:{id:"barCodeBox"}},[e.hasBarcodeList?n("MemberBarCode",{attrs:{barcodeList:e.barcodeList.data}}):e._e()],1)])]),n("div",{staticClass:"cardFooter"})])])]),e.isLoading?n("Loading"):e._e()],1)},kr=[],jr={info:function(e){return b({url:"/level/level_information",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))}},Ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("img",{ref:"qrcodeImg"})},Tr=[],Pr=(n("fb6a"),n("c4a7")),Lr=n.n(Pr),Rr={props:{qrcodeInfo:{type:Object,required:!0}},setup:function(e,t){var n=Object(F["g"])(null),r=function(e,t){var n=e.length,r=void 0!==t?n-1:n,a={source:{system:"MMRM",app:"{{MMRM}}",type:"member"},card_info:e.slice(0,r),invoice_info:[{key:"einvoice_carrier_no",value:void 0!==t?t:""}]};return JSON.stringify(a)},a=function(e){new Lr.a({element:n.value,value:e,size:220})};return Object(F["d"])((function(){var t=Object(F["h"])(e.qrcodeInfo),n=t.normalCode,i=t.vehicleCode,s=r(n.value,i.value);a(s)})),{qrcodeImg:n}}},Sr=Rr,Br=Object(l["a"])(Sr,Ir,Tr,!1,null,null,null),Nr=Br.exports,$r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swiper-container barcode-container"},[n("div",{staticClass:"swiper-wrapper"},e._l(e.slideList,(function(e,t){return n("Slide",{key:t,attrs:{slideItem:e.data}})})),1),n("div",{staticClass:"swiper-pagination barcode-pagination"})])},Er=[],qr=n("defa"),Hr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swiper-slide"},e._l(e.slideItem,(function(e,t){return n("Barcode",{key:t,attrs:{barcodeTitle:e.key,barcodeValue:e.value}})})),1)},Mr=[],Dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"codeItem"},[n("p",[e._v(e._s(e.barcodeTitle))]),n("svg",{attrs:{id:e.svgId}})])},Ur=[],Fr=n("62c5"),Vr=n.n(Fr),Jr={props:{barcodeTitle:{type:String,default:""},barcodeValue:{type:String,required:!0}},computed:{svgId:function(){return"barcode-".concat(Math.ceil(1e6*Math.random()))}},mounted:function(){Vr()("#".concat(this.svgId),this.barcodeValue,{width:1.5,height:50,displayValue:!0,fontSize:14,textMargin:5,background:"transparent"})}},Yr=Jr,Xr=(n("e790"),Object(l["a"])(Yr,Dr,Ur,!1,null,"4bf507a3",null)),zr=Xr.exports,Wr={props:{slideItem:{type:Array,required:!0}},components:{Barcode:zr}},Kr=Wr,Qr=Object(l["a"])(Kr,Hr,Mr,!1,null,null,null),Zr=Qr.exports,Gr={props:{barcodeList:{type:Array,required:!0}},setup:function(e,t){t.root;var n=Object(F["h"])(e),r=n.barcodeList,a=Object(F["a"])((function(){for(var e=2,t=Math.ceil(r.value.length/e),n=[],a=1;a<=t;a++){var i=(a-1)*e,s=(a-1)*e+e,o=r.value.slice(i,s);n.push({data:o})}return n})),i=Object(F["a"])((function(){return a.value.length>1})),s=function(){var e={autoPlay:!1,allowTouchMove:i.value,pagination:{el:".barcode-pagination"}};i.value||delete e.pagination,new qr["a"](".barcode-container",e)};return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s();case 1:case"end":return e.stop()}}),e)})))),{slideList:a}},components:{Slide:Zr}},ea=Gr,ta=Object(l["a"])(ea,$r,Er,!1,null,null,null),na=ta.exports,ra=function(){var e=Object(F["f"])({data:{}}),t=Object(F["f"])({data:[]}),n=Object(F["g"])(1),r={1:"切換一維條碼",2:"切換二維條碼"},a=Object(F["a"])((function(){return!Nn.a.isEmpty(e.data)})),i=Object(F["a"])((function(){return t.data.length>0})),s=Object(F["a"])((function(){return r[n.value]})),o=function(){n.value=1===n.value?2:1};return{barcodeTypeId:n,barcodeTypeText:s,switchBarcodeType:o,qrcodeInfo:e,barcodeList:t,hasQrcodeInfo:a,hasBarcodeList:i}},aa={name:"memberCard",metaInfo:function(){return{title:this.$i18n.t("page.memberCard.title")}},setup:function(e,t){var n=Object(F["g"])(!1),r=Object(F["g"])(""),a=Object(F["g"])(""),i=ra(),s=i.barcodeTypeId,o=i.barcodeTypeText,u=i.switchBarcodeType,c=i.qrcodeInfo,l=i.barcodeList,d=i.hasQrcodeInfo,p=i.hasBarcodeList;return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){var t,i,s,o,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.value=!0,t=[],e.next=4,T.get_member_profile().then((function(e){return e.info.results.member_profile}));case 4:return i=e.sent,e.next=7,T.member_summary();case 7:return s=e.sent,o=s.info.results.level_summary.current_level.level_id,e.next=11,jr.info({level_id:[o]});case 11:return u=e.sent,e.next=14,T.member_card().then((function(e){return e.info.results.member_card.code_info.card_info}));case 14:d=e.sent,p=i.einvoice_carrier_no,r.value=i.name,a.value=u.info.results.level_information[0].title,t=t.concat(d),void 0!==p&&t.push({key:"載具條碼",value:p}),c.data={normalCode:t,vehicleCode:p},l.data=t,n.value=!1;case 23:case"end":return e.stop()}}),e)})))),{isLoading:n,memberName:r,memberLevel:a,switchBarcodeType:u,barcodeTypeText:o,barcodeTypeId:s,qrcodeInfo:c,hasQrcodeInfo:d,barcodeList:l,hasBarcodeList:p}},components:{MemberQrcode:Nr,MemberBarCode:na}},ia=aa,sa=(n("4293"),Object(l["a"])(ia,xr,kr,!1,null,"00336de4",null)),oa=sa.exports,ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},ca=[],la={name:"coupon"},da=la,pa=Object(l["a"])(da,ua,ca,!1,null,null,null),fa=pa.exports,va=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"folder_section"},[n("ul",{staticClass:"tabList"},e._l(e.tabInfo,(function(t){return n("TabItem",{key:t.type,attrs:{tabTitle:t.title,tabType:t.type,currentCouponType:e.currentCouponType},on:{switchType:e.switchType}})})),1),e.hasCategory?n("div",{staticClass:"folder_wrap"},[e._l(e.tabInfo,(function(t){return n("CouponTabContent",{key:t.type,attrs:{contentType:t.type,currentCouponType:e.currentCouponType,categoryData:e.couponCategory.data[t.type],isLoading:e.isLoading}})})),n("p",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"pagTip"},[e._v("資料加載中...")])],2):e._e()])},ma=[],ha={my_coupon_list:function(e){return b({url:"/coupon/my_coupon_list",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},my_coupon_detail:function(e){return b({url:"/coupon/my_coupon_detail",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},coupon_information:function(e){return b({url:"/coupon/coupon_information",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},transfer_my_coupon:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",b({url:"/coupon/transfer_my_coupon",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data})).catch((function(e){return e.response.data})));case 1:case"end":return t.stop()}}),t)})))()}},ga={searchAvailableStore:function(e){return b({url:"/store/v1.1/search_coupon_available_store",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},searchVoucherStore:function(e){return b({url:"/store/search_voucher_available_store",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))}},ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"tabItem",on:{click:e.clickHandler}},[n("p",[e._v(e._s(e.tabTitle))]),n("span",{staticClass:"line",class:{active:e.currentCouponType===e.tabType}})])},_a=[],Aa=n("ade3"),wa={props:(xn={tabTitle:{type:String,default:""}},Object(Aa["a"])(xn,"tabTitle",{type:String,default:""}),Object(Aa["a"])(xn,"tabType",{type:String,required:!0}),Object(Aa["a"])(xn,"currentCouponType",{type:String,default:""}),xn),methods:{clickHandler:function(){this.$emit("switchType",this.tabType)}}},ya=wa,Oa=Object(l["a"])(ya,ba,_a,!1,null,null,null),Ca=Oa.exports,xa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCorrespond,expression:"isCorrespond"}],staticClass:"tabContent"},[n("div",{staticClass:"couponGroup"},e._l(e.categoryData.data,(function(e,t){return n("CouponBlock",{key:e.coupon_no+t,attrs:{couponItem:e}})})),1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}],staticClass:"emptyBlock"},[n("div",{staticClass:"emptyBg"}),n("p",[e._v("您沒有票券呦～")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isReached,expression:"isReached"}],staticClass:"pagTip"},[e._v("已經到最底囉～")])])},ka=[],ja=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"couponBlock",attrs:{to:e.couponLink}},[n("div",{staticClass:"couponBlockL"},[n("div",{staticClass:"brandInfo"},[n("div",{staticClass:"brandLogo",style:e.brandLogo}),n("span",[e._v(e._s(e.brandTitle))])]),n("div",{staticClass:"couponTitle"},[e._v(e._s(e.couponItem.couponInfo.title))]),n("div",{staticClass:"detail"},[e.isNormal?[n("p",[e._v("使用期限 "+e._s(e.couponItem.couponInfo.duration))]),n("p",[e._v(e._s(e.availableStoreText)+" / "+e._s(e.usageTimes))])]:e._e(),e.isHistory?[n("p",[e._v(e._s(e.deadlineTitle)+" : "+e._s(e.historyTime))])]:e._e(),e.isTransfer?[n("p",[e._v("轉贈帳號 : "+e._s(e.couponItem.transfer_account))]),n("p",[e._v("轉贈時間 : "+e._s(e.couponItem.transferred_datetime))])]:e._e()],2)]),n("div",{staticClass:"couponBlockR",style:e.couponImage},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isAvailable,expression:"!isAvailable"}],staticClass:"usageCover"},[e._v(e._s(e.usageText))])])])},Ia=[],Ta=(n("caad"),function(){var e=Object(F["f"])({notyet:"尚未開始",available:"可使用",expired:"已逾期",obsolete:"已失效",redeemed:"已使用",transferred:"已轉贈"});return{statusText:e}}),Pa={props:{couponItem:{type:Object,required:!0}},setup:function(e,t){var n=Object(F["h"])(e),r=n.couponItem,a=Ta(),i=a.statusText,s={expired:"逾期時間",obsolete:"失效時間",redeemed:"使用時間"},o=Object(F["a"])((function(){var e=r.value.couponInfo.feature_image.url;return e?{backgroundImage:"url(".concat(e,")")}:{}})),u=Object(F["a"])((function(){return r.value.status})),c=Object(F["a"])((function(){return"available"===u.value})),l=Object(F["a"])((function(){return i[u.value]})),d=Object(F["a"])((function(){return null===r.value.brandInfo?"品牌名稱":r.value.brandInfo.title||""})),p=Object(F["a"])((function(){if(null===r.value.brandInfo)return{};var e=r.value.brandInfo.feature_image_big.url;return e?{backgroundImage:"url(".concat(e,")")}:{}})),f=Object(F["a"])((function(){return r.value.storeInfo.all_brands_available?"全門市適用":"適用".concat(r.value.storeInfo.store_ids.length,"家門市")})),v=Object(F["a"])((function(){return"尚可".concat(r.value.amount,"使用")})),m=Object(F["a"])((function(){var e=["available","notyet"];return e.includes(u.value)})),h=Object(F["a"])((function(){var e=["expired","obsolete","redeemed"];return e.includes(u.value)})),g=Object(F["a"])((function(){return"transferred"===u.value})),b=Object(F["a"])((function(){return h.value?s[u.value]:""})),_=Object(F["a"])((function(){return h.value?r.value["".concat(u.value,"_datetime")]:""})),A=Object(F["a"])((function(){return m.value?{name:"couponInfo",params:{my_coupon_id:r.value.my_coupon_id}}:{name:"couponFolder"}}));return{couponImage:o,isAvailable:c,usageText:l,brandTitle:d,brandLogo:p,isNormal:m,availableStoreText:f,usageTimes:v,isHistory:h,deadlineTitle:b,historyTime:_,isTransfer:g,couponLink:A}}},La=Pa,Ra=(n("5f40"),Object(l["a"])(La,ja,Ia,!1,null,"047b34df",null)),Sa=Ra.exports,Ba={props:{contentType:{type:String,required:!0},currentCouponType:{type:String,required:!0},categoryData:{type:Object,required:!0},isLoading:{type:Boolean,required:!0}},setup:function(e,t){var n=Object(F["h"])(e),r=n.contentType,a=n.currentCouponType,i=n.categoryData,s=n.isLoading,o=Object(F["a"])((function(){return r.value===a.value})),u=Object(F["a"])((function(){return null!==i.value.currentPage})),c=Object(F["a"])((function(){return i.value.data.length>0})),l=Object(F["a"])((function(){return!s.value&&!u.value&&c.value})),d=Object(F["a"])((function(){return!s.value&&!u.value&&!c.value}));return{isCorrespond:o,isReached:l,showEmpty:d}},components:{CouponBlock:Sa}},Na=Ba,$a=(n("c88c"),Object(l["a"])(Na,xa,ka,!1,null,"6776a669",null)),Ea=$a.exports,qa={name:"couponFolder",metaInfo:function(){return{title:this.$i18n.t("page.couponFolder.title")}},setup:function(e,t){var n=t.root,r=Object(F["g"])("valid"),a=Object(F["f"])({data:{}}),i=Object(F["g"])(!1),o=Object(F["f"])([{type:"valid",title:"我得票券"},{type:"invalid",title:"歷史票券"},{type:"transferred",title:"轉贈紀錄"}]),u=Object(F["a"])((function(){return!Nn.a.isEmpty(a.data)})),c=Object(F["a"])({get:function(){return a.data[r.value]},set:function(e){var t=e.key,n=e.value,i=a.data[r.value];"data"===t?i.data=i.data.concat(n):i[t]=n}}),l=function(){return o.reduce((function(e,t){return e[t.type]={type:t.type,isFirst:!0,data:[],currentPage:0,scrollPos:0},e}),{})},d=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ha.my_coupon_list({type:r.value,offset:c.value.currentPage}).then((function(e){return e.info})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ha.coupon_information({coupon_ids:t,full_info:!1}).then((function(e){return e.info.results.coupon_information})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",gn.brand_information({brand_ids:t,full_info:!1}).then((function(e){return e.info.results.brand_information})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ga.searchAvailableStore({coupon_ids:t}).then((function(e){return e.info.results.search_coupon_available_store_results})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.map((function(e){return e.coupon_id}));return Array.from(new Set(t))},g=function(e){var t=e.reduce((function(e,t){return e=e.concat(t.brand_ids),e}),[]);return Array.from(new Set(t))},b=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t!==r.value){e.next=2;break}return e.abrupt("return");case 2:if(!i.value){e.next=4;break}return e.abrupt("return");case 4:if(c.value={key:"scrollPos",value:window.pageYOffset},r.value=t,!c.value.isFirst){e.next=9;break}return e.next=9,A();case 9:return e.next=11,n.$nextTick();case 11:window.scrollTo(0,c.value.scrollPos);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.couponList,n=e.couponInfo,r=e.brandInfo,a=e.storeInfo;return t.reduce((function(e,t){var i=t.coupon_id,o=n.find((function(e){return e.coupon_id===i})),u=a.find((function(e){return e.coupon_id===i})),c=Object(s["a"])(Object(s["a"])({},t),{},{couponInfo:o,storeInfo:u});return c.brandInfo=r.find((function(e){return e.brand_id===c.couponInfo.brand_ids[0]}))||null,e.push(c),e}),[])},A=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,t=[],e.next=4,d();case 4:if(n=e.sent,r=n.results.my_coupon_list,a=[],0===r.length){e.next=21;break}return s=h(r),e.next=11,p(s);case 11:return o=e.sent,e.next=14,m(s);case 14:if(u=e.sent,l=g(o),0===l.length){e.next=20;break}return e.next=19,f(l);case 19:a=e.sent;case 20:t=_({couponList:r,couponInfo:o,brandInfo:a,storeInfo:u});case 21:c.value={key:"currentPage",value:n.next},c.value={key:"data",value:t},c.value={key:"isFirst",value:!1},i.value=!1;case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.value){e.next=2;break}return e.abrupt("return");case 2:t=window.innerHeight,n=document.documentElement.scrollHeight,r=n-t,a=window.pageYOffset,a>=.95*r&&null!==c.value.currentPage&&A();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.addEventListener("scroll",w),a.data=l(),A();case 3:case"end":return e.stop()}}),e)})))),Object(F["e"])((function(){window.addEventListener("scroll",w)})),{tabInfo:o,couponCategory:a,currentCouponType:r,hasCategory:u,switchType:b,isLoading:i}},components:{TabItem:Ca,CouponTabContent:Ea}},Ha=qa,Ma=(n("2c36"),Object(l["a"])(Ha,va,ma,!1,null,"08762230",null)),Da=Ma.exports,Ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"couponInfo_section"},[n("div",{staticClass:"banner"},[n("div",{staticClass:"inner",style:e.couponBackgroundImage})]),n("div",{staticClass:"couponIntro"},[n("div",{staticClass:"couponName"},[e._v(e._s(e.couponTitle))]),n("ul",{staticClass:"intorList"},[n("li",[n("div",{staticClass:"title"},[e._v("使用期限")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(e.couponDuration))])]),n("li",[n("div",{staticClass:"title"},[e._v("適用品牌")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(e.brandTitle))])]),n("li",[n("div",{staticClass:"title"},[e._v("轉贈票券")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(e.couponTransferredText))])])]),n("div",{staticClass:"brandLogo",style:e.brandBackgroundImage})]),n("div",{staticClass:"usageBox"},[n("div",{staticClass:"storeBox"},[n("div",{staticClass:"title arrow"},[e._v("適用門市")]),n("div",{staticClass:"content"},[e.allStoreAvailable?[n("span",{staticClass:"unit"},[e._v("全門市適用")])]:[n("span",{staticClass:"number"},[e._v(e._s(e.storeCount))]),n("span",{staticClass:"unit"},[e._v("家")])]],2)]),n("div",{staticClass:"countBox"},[n("div",{staticClass:"title"},[e._v("可用次數")]),n("div",{staticClass:"content"},[n("span",{staticClass:"number"},[e._v(e._s(e.remainedUageTimes))]),n("span",{staticClass:"unit"},[e._v(" / "+e._s(e.totalUageTimes)+" 次")])])])]),n("div",{staticClass:"couponDesc",domProps:{innerHTML:e._s(e.couponDesc)}}),n("div",{staticClass:"fixBlock"},[e.canUsageCoupon?n("div",{staticClass:"normalBlock"},[n("div",{on:{click:function(t){e.transferPopupOption.isOpen=!0}}},[e._v("我要轉贈")]),e.couponIsAvailable?n("router-link",{attrs:{to:{name:"couponCard",params:{my_coupon_id:e.myCouponId}}}},[e._v("我要使用")]):e._e()],1):n("div",{staticClass:"usedBlock"},[e._v(e._s(e.couponStatusText))])]),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),n("InputPopup",{attrs:{isOpen:e.transferPopupOption.isOpen,showCancel:e.transferPopupOption.showCancel,popupTitle:e.transferPopupOption.popupTitle,message:e.transferPopupOption.message,inputType:e.transferPopupOption.inputType,eventName:e.transferPopupOption.eventName,validateRule:e.transferPopupOption.validateRule},on:{"update:isOpen":function(t){return e.$set(e.transferPopupOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.transferPopupOption,"isOpen",t)},transfer:e.transferHandler}}),n("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{transferResult:e.transferResultHandler}})],1)},Fa=[],Va={getInfo:function(e){return b({url:"/voucher/voucher_information",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))}},Ja=function(){var e=Object(F["f"])({data:{}}),t=Object(F["f"])({data:{}}),n=Object(F["f"])({data:{}}),r=Object(F["a"])((function(){return!Nn.a.isEmpty(e.data)})),a=Object(F["a"])((function(){return!Nn.a.isEmpty(t.data)})),i=Object(F["a"])((function(){return!Nn.a.isEmpty(n.data)})),s=Object(F["a"])((function(){return r.value?e.data.title:""})),o=Object(F["a"])((function(){return r.value?e.data.duration:""})),u=Object(F["a"])((function(){return r.value?e.content:""})),c=Object(F["a"])((function(){return a.value?t.data.title:""})),l=Object(F["a"])((function(){return r.value?e.data.total:""})),d=Object(F["a"])((function(){return!!i.value&&n.data.all_brands_available})),p=Object(F["a"])((function(){return i.value?n.data.store_ids.length:0})),f=Object(F["a"])((function(){if(!r.value)return{};var t=e.data.feature_image.url;return t?{backgroundImage:"url(".concat(t,")")}:{}})),m=Object(F["a"])((function(){if(!a.value)return{};var e=t.data.feature_image_small.url;return e?{backgroundImage:"url(".concat(e,")")}:{}})),h=function(e){return ha.coupon_information({coupon_ids:e,full_info:!0}).then((function(e){return e.info.results.coupon_information[0]}))},g=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Va.getInfo({voucher_ids:t,full_info:!1}).then((function(e){return e.results.voucher_information[0]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return gn.brand_information({brand_ids:e,full_info:!1}).then((function(e){return e.info.results.brand_information[0]}))},_=function(e){return ga.searchAvailableStore({coupon_ids:e}).then((function(e){return e.info.results.search_coupon_available_store_results[0]}))},A=function(e){return ga.searchVoucherStore({voucher_id:e}).then((function(e){return e.info.results}))};return{hasCouponInfo:r,couponInfo:e,brandInfo:t,storeInfo:n,couponBackgroundImage:f,couponTitle:s,couponDuration:o,couponDesc:u,brandTitle:c,brandBackgroundImage:m,totalUageTimes:l,allStoreAvailable:d,storeCount:p,getCouponInfo:h,getBrandInfo:b,getStoreInfo:_,getVoucherInfo:g,getVoucherStoreInfo:A}},Ya={name:"couponInfo",metaInfo:function(){return{title:this.$i18n.t("page.couponInfo.title")}},setup:function(e,t){var n=t.root,r=Ja(),a=r.couponInfo,i=r.brandInfo,s=r.storeInfo,o=r.couponBackgroundImage,u=r.couponTitle,c=r.couponDuration,l=r.couponDesc,d=r.brandTitle,p=r.brandBackgroundImage,f=r.totalUageTimes,m=r.allStoreAvailable,h=r.storeCount,g=r.getCouponInfo,b=r.getBrandInfo,A=r.getStoreInfo,w=Ta(),y=w.statusText,O=Object(F["g"])(0),C=Object(F["g"])(!1),x=Object(F["g"])(!1),k=Object(F["f"])({data:{}}),j=Object(F["f"])({isOpen:!1,showCancel:!0,popupTitle:"請輸入轉贈手機號",message:"轉贈票券將會送出所有剩餘的可用次數",inputType:"number",eventName:"transfer",validateRule:"required|phone"}),I=Object(F["f"])({isOpen:!1,message:"",eventName:"transferResult"}),T=Object(F["a"])((function(){return!_.isEmpty(k.data)})),P=Object(F["a"])((function(){return T.value?k.data.coupon_transferred?"允許轉贈":"不可轉贈":""})),L=Object(F["a"])((function(){return T.value?y[k.data.status]:""})),R=Object(F["a"])((function(){return T.value?"available"===k.data.status:""})),S=Object(F["a"])((function(){return!!T.value&&k.data.coupon_transferred})),B=Object(F["a"])((function(){if(!T.value)return!1;var e=k.data.status,t=["available"];return S.value&&t.push("notyet"),t.includes(e)})),N=Object(F["a"])((function(){return T.value?k.data.amount:""})),$=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ha.my_coupon_detail({my_coupon_id:O.value}).then((function(e){return e.info.results.my_coupon_detail})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C.value=!0,e.next=3,ha.transfer_my_coupon({my_coupon_id:O.value,account:t}).then((function(e){return e}));case 3:n=e.sent,r=n.status,a=n.info,j.isOpen=!1,x.value=r,I.message=r?"您的優惠券已轉贈成功，會員帳號".concat(t):a.rcrm.RM,I.isOpen=!0,C.value=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){x.value&&n.$router.replace({name:"couponFolder"}),I.isOpen=!1},H=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C.value=!0,O.value=parseInt(n.$route.params.my_coupon_id),e.next=4,$();case 4:return k.data=e.sent,e.next=7,g([k.data.coupon_id]);case 7:if(a.data=e.sent,!(a.data.brand_ids.length>0)){e.next=12;break}return e.next=11,b([a.data.brand_ids[0]]);case 11:i.data=e.sent;case 12:return e.next=14,A([k.data.coupon_id]);case 14:s.data=e.sent,C.value=!1;case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F["i"])((function(){return n.$route}),(function(){H()})),Object(F["d"])((function(){H()})),{myCouponId:O,isLoading:C,couponBackgroundImage:o,couponTitle:u,couponDuration:c,couponTransferredText:P,brandTitle:d,brandBackgroundImage:p,totalUageTimes:f,remainedUageTimes:N,allStoreAvailable:m,storeCount:h,couponDesc:l,couponStatusText:L,couponIsAvailable:R,canUsageCoupon:B,canTransferred:S,transferPopupOption:j,transferHandler:E,msgOption:I,transferResultHandler:q}}},Xa=Ya,za=(n("7511"),Object(l["a"])(Xa,Ua,Fa,!1,null,"61a659d4",null)),Wa=za.exports,Ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"couponCard_section"},[n("div",{staticClass:"mask"},[n("div",{staticClass:"colorBlock"}),n("div",{staticClass:"maskInner"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"closeBg"}),n("div",{staticClass:"codeText",on:{click:e.switchBarcodeType}},[e._v(e._s(e.barcodeTypeText))]),n("img",{directives:[{name:"show",rawName:"v-show",value:e.hasBrandLogo,expression:"hasBrandLogo"}],staticClass:"brandLogo",attrs:{src:e.brandLogo}})]),n("div",{staticClass:"cardBox"},[n("div",{staticClass:"cardHead"},[n("div",{staticClass:"name"},[e._v(e._s(e.couponName))]),n("div",{staticClass:"duration"},[e._v("使用期限: "+e._s(e.couponDuration))])]),n("div",{staticClass:"cardBody"},[n("div",{staticClass:"cardInner"},[n("div",{class:["codeBox",{active:1===e.barcodeTypeId}],attrs:{id:"qrcode"}},[e.hasQrcodeInfo?n("MemberQrcode",{attrs:{qrcodeInfo:e.qrcodeInfo.data,cardType:"coupon"}}):e._e()],1),n("div",{class:["codeBox",{active:2===e.barcodeTypeId}],attrs:{id:"barCodeBox"}},[e.hasBarcodeList?n("MemberBarCode",{attrs:{barcodeList:e.barcodeList.data}}):e._e()],1)])])])])]),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},Qa=[],Za={name:"couponCard",metaInfo:function(){return{title:this.$i18n.t("page.couponCard.title")}},setup:function(e,t){var n=t.root,r=Object(F["g"])(0),a=Object(F["g"])(!1),i=Object(F["f"])({data:{}}),s=Object(F["f"])({data:{}}),o=Object(F["f"])({data:{}}),u=ra(),c=u.barcodeTypeId,l=u.barcodeTypeText,d=u.switchBarcodeType,p=u.qrcodeInfo,f=u.barcodeList,m=u.hasQrcodeInfo,h=u.hasBarcodeList,g=Object(F["a"])((function(){return Nn.a.isEmpty(s.data)?"":s.data.title})),b=Object(F["a"])((function(){return Nn.a.isEmpty(i.data)?"":i.data.duration})),_=Object(F["a"])((function(){return!Nn.a.isEmpty(o.data)})),A=Object(F["a"])((function(){return _.value?o.data.feature_image_small.url:""})),w=function(){return ha.my_coupon_detail({my_coupon_id:r.value}).then((function(e){return e.info.results.my_coupon_detail}))},y=function(e){return ha.coupon_information({coupon_ids:e,full_info:!1}).then((function(e){return e.info.results.coupon_information[0]}))},O=function(e){return gn.brand_information({brand_ids:e,full_info:!1}).then((function(e){return e.info.results.brand_information[0]}))};return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){var t,u,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value=!0,t=[],r.value=parseInt(n.$route.params.my_coupon_id),e.next=5,w();case 5:return i.data=e.sent,e.next=8,y([i.data.coupon_id]);case 8:if(s.data=e.sent,!(s.data.brand_ids>0)){e.next=13;break}return e.next=12,O([s.data.brand_ids[0]]);case 12:o.data=e.sent;case 13:return e.next=15,T.get_member_profile().then((function(e){return e.info.results.member_profile}));case 15:return u=e.sent,e.next=18,T.member_card().then((function(e){return e.info.results.member_card.code_info.card_info}));case 18:c=e.sent,l=u.einvoice_carrier_no,t.push({key:"票券條碼",value:i.data.coupon_no}),t=t.concat(c),void 0!==l&&t.push({key:"載具條碼",value:l}),p.data={normalCode:t,vehicleCode:l},f.data=t,a.value=!1;case 26:case"end":return e.stop()}}),e)})))),{couponName:g,isLoading:a,couponDuration:b,brandLogo:A,switchBarcodeType:d,barcodeTypeText:l,barcodeTypeId:c,hasBrandLogo:_,qrcodeInfo:p,barcodeList:f,hasQrcodeInfo:m,hasBarcodeList:h}},components:{MemberQrcode:Nr,MemberBarCode:na}},Ga=Za,ei=(n("7c11"),Object(l["a"])(Ga,Ka,Qa,!1,null,"b9fd20a6",null)),ti=ei.exports,ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},ri=[],ai={name:"activity"},ii=ai,si=Object(l["a"])(ii,ni,ri,!1,null,null,null),oi=si.exports,ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"activity_section"},[n("div",{staticClass:"controlPanel"},[n("div",{staticClass:"layoutBox"},e._l(e.layoutList,(function(t){return n("LayoutItem",{key:t.id,attrs:{layoutId:t.id,layoutClass:t.class,currentLayoutId:e.currentLayoutId},on:{layout:e.switchLayout}})})),1),n("div",{staticClass:"pointDesc",on:{click:function(t){e.pointPopupOption.isOpen=!0}}},[e.hasPointSlider?n("PointSlider",{attrs:{slideList:e.pointSlider.data}}):e._e()],1),n("div",{staticClass:"text",on:{click:function(t){e.isSidebarOpen=!0}}},[e._v("篩選")])]),n("div",{staticClass:"list_wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showEmptyBlock,expression:"showEmptyBlock"}],staticClass:"emptyBlock"},[n("div",{staticClass:"emptyBg"}),n("p",[e._v("目前沒有優惠活動呦！")])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.showEmptyBlock,expression:"!showEmptyBlock"}],staticClass:"activityList"},e._l(e.activityList.data,(function(t){return n("ActivityItem",{key:t.coupon_activity_id,attrs:{activityInfo:t,systemTime:e.systemTime,projectTime:e.projectTime,currentLayoutId:e.currentLayoutId},on:{ready:e.readyToExchange}})})),1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPagLoading,expression:"isPagLoading"}],staticClass:"pagTip"},[e._v("資料加載中...")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.reachBottom,expression:"reachBottom"}],staticClass:"pagTip"},[e._v("已經到最底囉～")])]),n("PointPopup",{attrs:{isOpen:e.pointPopupOption.isOpen,pointTitle:e.pointPopupOption.title,showPointAmount:e.pointPopupOption.showPointAmount},on:{"update:isOpen":function(t){return e.$set(e.pointPopupOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.pointPopupOption,"isOpen",t)}}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.hasPointSlider,expression:"hasPointSlider"}],staticClass:"myPointList"},e._l(e.pointSlider.data,(function(t){return n("li",{key:t.pointId},[n("div",[e._v(e._s(t.title))]),n("div",[n("span",{staticClass:"amount"},[e._v(e._s(t.amount))]),n("span",[e._v("點")])])])})),0)]),n("ActivitySidebar",{ref:"activitySidebar",attrs:{isOpen:e.isSidebarOpen},on:{"update:isOpen":function(t){e.isSidebarOpen=t},"update:is-open":function(t){e.isSidebarOpen=t},filter:e.filterHandler}}),n("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,showCancel:e.msgOption.showCancel,eventName:e.msgOption.eventName},on:{"update:isOpen":function(t){return e.$set(e.msgOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.msgOption,"isOpen",t)},gather:e.gatherExchangeParams}}),n("InputPopup",{attrs:{isOpen:e.codePopupOption.isOpen,showCancel:e.codePopupOption.showCancel,popupTitle:e.codePopupOption.popupTitle,eventName:e.codePopupOption.eventName,validateRule:e.codePopupOption.validateRule},on:{"update:isOpen":function(t){return e.$set(e.codePopupOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.codePopupOption,"isOpen",t)},gather:e.gatherExchangeParams}}),n("MessagePopup",{attrs:{isOpen:e.tipOption.isOpen,message:e.tipOption.message,eventName:e.tipOption.eventName},on:{tipFeedBack:e.tipFeedBack}}),n("PointPicker",{attrs:{pickerItem:e.pickerItem},on:{selectPoint:e.selectPoint}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),n("div",{staticClass:"sidebarCover",class:{show:e.isSidebarOpen}})],1)},ci=[],li=n("2909"),di={briefCoupon:function(){return b({url:"/activity/brief_coupon_activity_type",method:"post",data:{}}).then((function(e){return e.data}))},searchCoupon:function(e){return b({url:"/activity/search_coupon_activity",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},couponInfo:function(e){return b({url:"/activity/coupon_activity_information",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data}))},redeemCoupon:function(e){return b({url:"/activity/redeem_coupon_activity",method:"post",data:Object(s["a"])({},e)}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}},pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.classList,on:{click:e.clickHandler}})},fi=[],vi={props:{layoutId:{type:String,required:!0},layoutClass:{type:String,required:!0},currentLayoutId:{type:String,required:!0}},setup:function(e,t){var n=t.emit,r=Object(F["h"])(e),a=r.layoutId,i=r.layoutClass,s=r.currentLayoutId,o=Object(F["a"])((function(){return["layout",i.value,{active:a.value===s.value}]})),u=function(){n("layout",a.value)};return{classList:o,clickHandler:u}}},mi=vi,hi=(n("6439"),Object(l["a"])(mi,pi,fi,!1,null,"2e9acd42",null)),gi=hi.exports,bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swiper-container",attrs:{id:"point-swiper-container"}},[n("div",{staticClass:"swiper-wrapper"},e._l(e.slideList,(function(t){return n("div",{key:t.pointId,staticClass:"swiper-slide"},[n("span",[e._v(e._s(t.title))]),n("span",{staticClass:"amount"},[e._v(e._s(t.amount))]),n("span",[e._v("點")]),n("span",{staticClass:"pointArrow"})])})),0)])},_i=[],Ai={props:{slideList:{type:Array,required:!0}},setup:function(e){var t=Object(F["a"])((function(){return e.slideList.length>1}));Object(F["d"])((function(){new qr["a"]("#point-swiper-container",{direction:"vertical",loop:!0,allowTouchMove:!1,autoplay:!!t.value&&{delay:3e3},speed:1e3})}))}},wi=Ai,yi=(n("2f47"),Object(l["a"])(wi,bi,_i,!1,null,"6808a02b",null)),Oi=yi.exports,Ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{show:e.isOpen},attrs:{id:"sidebar"}},[n("div",{staticClass:"sidebarPanel"},[n("div",{staticClass:"sureText",on:{click:e.backHandler}},[e._v("取消")]),n("div",{staticClass:"seekText"},[e._v("篩選")]),n("div",{staticClass:"sureText",on:{click:e.confirmHandler}},[e._v("確認")])]),n("ul",{staticClass:"sidebarFilter"},[n("li",{on:{click:function(t){return e.showSubMenu("sub1")}}},[n("div",{staticClass:"filterTitle"},[e._v("選擇品牌")]),n("div",{staticClass:"filterItem"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.allBrandSelected,expression:"allBrandSelected"}]},[e._v("全部")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.allBrandSelected,expression:"!allBrandSelected"}],staticClass:"count"},[e._v(e._s(e.checkedBrandCount))]),n("span",{staticClass:"arrowBox"})])]),n("li",{on:{click:function(t){return e.showSubMenu("sub2")}}},[n("div",{staticClass:"filterTitle"},[e._v("兌換方式")]),n("div",{staticClass:"filterItem"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.allPointSelected,expression:"allPointSelected"}]},[e._v("全部")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.allPointSelected,expression:"!allPointSelected"}],staticClass:"count"},[e._v(e._s(e.checkedPointCount))]),n("span",{staticClass:"arrowBox"})])])]),n("div",{staticClass:"subMenu brandMenu",class:{show:"sub1"===e.subId}},[n("div",{staticClass:"clearAll"},[n("span",{on:{click:function(t){return e.clearAll("brand")}}},[e._v("全部清除")])]),n("ul",{staticClass:"criteriaList"},e._l(e.brandCondition.data,(function(t){return n("BrandCriteriaItem",{key:t.brand_id,attrs:{itemId:t.brand_id,title:t.title,imgUrl:t.url,checked:t.checked},on:{status:e.changeBrandStatus}})})),1)]),n("div",{staticClass:"subMenu pointMenu",class:{show:"sub2"===e.subId}},[n("div",{staticClass:"clearAll"},[n("span",{on:{click:function(t){return e.clearAll("point")}}},[e._v("全部清除")])]),n("ul",{staticClass:"criteriaList"},e._l(e.pointCondition.data,(function(t,r){return n("PointCriteriaItem",{key:r,attrs:{itemId:t.id,title:t.title,checked:t.checked,category:t.category},on:{status:e.changePointStatus}})})),1)])])},xi=[],ki=(n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("label",[n("div",{staticClass:"criteriaTitle"},[n("img",{attrs:{src:e.imgUrl,alt:""}}),n("span",[e._v(e._s(e.title))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedStatus,expression:"checkedStatus"}],staticClass:"hookCheckbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checkedStatus)?e._i(e.checkedStatus,null)>-1:e.checkedStatus},on:{change:function(t){var n=e.checkedStatus,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);r.checked?s<0&&(e.checkedStatus=n.concat([i])):s>-1&&(e.checkedStatus=n.slice(0,s).concat(n.slice(s+1)))}else e.checkedStatus=a}}})])])}),ji=[],Ii={props:{itemId:{type:Number,required:!0},title:{type:String,required:!0},imgUrl:{type:String,default:""},checked:{type:Boolean,required:!0}},setup:function(e,t){var n=t.emit,r=Object(F["a"])({get:function(){return e.checked},set:function(t){n("status",{id:e.itemId,status:t})}});return{checkedStatus:r}}},Ti=Ii,Pi=Object(l["a"])(Ti,ki,ji,!1,null,null,null),Li=Pi.exports,Ri=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("label",[n("div",{staticClass:"criteriaTitle"},[n("span",[e._v(e._s(e.title))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedStatus,expression:"checkedStatus"}],staticClass:"hookCheckbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checkedStatus)?e._i(e.checkedStatus,null)>-1:e.checkedStatus},on:{change:function(t){var n=e.checkedStatus,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);r.checked?s<0&&(e.checkedStatus=n.concat([i])):s>-1&&(e.checkedStatus=n.slice(0,s).concat(n.slice(s+1)))}else e.checkedStatus=a}}})])])},Si=[],Bi={props:{itemId:{type:[Number,String],required:!0},title:{type:String,required:!0},checked:{type:Boolean,required:!0},category:{type:String,required:!0}},setup:function(e,t){var n=t.emit,r=Object(F["a"])({get:function(){return e.checked},set:function(t){n("status",{id:e.itemId,category:e.category,status:t})}});return{checkedStatus:r}}},Ni=Bi,$i=Object(l["a"])(Ni,Ri,Si,!1,null,null,null),Ei=$i.exports,qi={props:{isOpen:{type:Boolean,required:!0}},setup:function(e,t){var n=t.emit,r=Object(F["g"])(""),a=Object(F["f"])({data:[]}),i=Object(F["f"])({data:[]}),o={free:"點數兌換",redeem_code:"代碼兌換"},u=Object(F["a"])((function(){return a.data.length})),c=Object(F["a"])((function(){var e=a.data.filter((function(e){return e.checked}));return e.length})),l=Object(F["a"])((function(){return u.value===c.value})),d=Object(F["a"])((function(){return i.data.length})),p=Object(F["a"])((function(){var e=i.data.filter((function(e){return e.checked}));return e.length})),f=Object(F["a"])((function(){return d.value===p.value})),m=function(){if(""!==r.value)return h("");n("update:isOpen",!1)},h=function(e){return r.value=e},g=function(e){var t=e.id,n=e.status,r=a.data.find((function(e){return e.brand_id===t}));r.checked=n},b=function(e){"brand"===e&&a.data.forEach((function(e){return e.checked=!1})),"point"===e&&i.data.forEach((function(e){return e.checked=!1}))},_=function(e){return e.reduce((function(e,t){var n=t.brand_id,r=t.title,a=t.feature_image_small;return e.push({brand_id:n,title:r,url:a.url,checked:!0}),e}),[])},A=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,gn.search_brand().then((function(e){return e.info.results.brand_ids}));case 2:return t=e.sent,e.next=5,gn.brand_information({brand_ids:t,full_info:!1}).then((function(e){return e.info.results.brand_information}));case 5:n=e.sent,a.data=_(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.key,r=t.ids,a="point_ids"===n?"pointInfo":"externalPointInfo",e.next=4,Kn[a]({point_id:r,full_info:!1}).then((function(e){return e.info.results.point_information}));case 4:return i=e.sent,e.abrupt("return",Nn.a.cloneDeep(i));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],r=regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("redeem_type"!==r){e.next=2;break}return e.abrupt("return","continue");case 2:return e.next=4,w({key:r,ids:t[r]});case 4:a=e.sent,a.forEach((function(e){return e.category=r})),n=n.concat(a);case 7:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(t);case 3:if((e.t1=e.t0()).done){e.next=11;break}return a=e.t1.value,e.delegateYield(r(a),"t2",6);case 6:if(i=e.t2,"continue"!==i){e.next=9;break}return e.abrupt("continue",3);case 9:e.next=3;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=e.brefResult,n=e.allPointInfo,r=t.filter((function(e){return"point"!==e.redeem_type})),a=[],i=r.reduce((function(e,t){var n=t.redeem_type;return e.push({id:n,title:o[n],type:n,category:"basic",checked:!0}),e}),[]);if(null!==n){var s=t.find((function(e){return"point"===e.redeem_type})),u={};for(var c in s)"redeem_type"!==c&&(u[c]=s[c]);a=n.reduce((function(e,t){var n="";for(var r in u){var a=u[r].includes(t.point_id),i=t.category===r;if(a&&i){n=r;break}}return e.push({id:t.point_id,title:"點數兌換-".concat(t.title),type:"point",category:n,checked:!0}),e}),[])}return i.concat(a)},C=function(e){var t=e.id,n=e.category,r=e.status,a=i.data.find((function(e){return e.category===n&&e.id===t}));a.checked=r},x=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,di.briefCoupon().then((function(e){return e.info.results.redeem_types}));case 2:if(t=e.sent,n=null,r=t.find((function(e){return"point"===e.redeem_type})),void 0===r){e.next=9;break}return e.next=8,y(r);case 8:n=e.sent;case 9:i.data=O({brefResult:t,allPointInfo:n});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=a.data.filter((function(e){return e.checked})).map((function(e){return e.brand_id})),t=i.data.filter((function(e){return e.checked})).map((function(e){return e.type}));t=0!==t.length?t:i.data.map((function(e){return e.type})),t=Array.from(new Set(t));var n={};return t.includes("point")&&(n=i.data.reduce((function(e,t){var n=t.id,r=t.checked,a=t.type,i=t.category;return r&&"point"===a&&(void 0===e[i]?e[i]=[n]:e[i].push(n)),e}),{})),Object(s["a"])({brand_ids:e,redeem_types:t},n)},j=function(){var e=k();n("filter",e)};return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return e.next=4,x();case 4:j();case 5:case"end":return e.stop()}}),e)})))),{backHandler:m,subId:r,showSubMenu:h,brandCondition:a,changeBrandStatus:g,clearAll:b,pointCondition:i,changePointStatus:C,checkedBrandCount:c,allBrandSelected:l,checkedPointCount:p,allPointSelected:f,confirmHandler:j}},components:{BrandCriteriaItem:Li,PointCriteriaItem:Ei}},Hi=qi,Mi=Object(l["a"])(Hi,Ci,xi,!1,null,null,null),Di=Mi.exports,Ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"activityItem",class:{hide:e.isFinish}},[n("router-link",{staticClass:"topBlock",class:{other:"a"!==e.currentLayoutId},attrs:{to:{name:"activityInfo",params:{activity_id:e.activityInfo.coupon_activity_id}}}},[n("div",{staticClass:"bgBlock",style:e.activityBg},[e.isOpening?e._e():n("div",{staticClass:"statusCover"},[n("span",[e._v(e._s(e.usageText))])]),e.isCountdown?n("div",{staticClass:"countdownBlock"},[n("div",{staticClass:"clockBg"}),n("p",{staticClass:"time"},[e._v(e._s(e.remainedTime))])]):e._e()]),n("div",{staticClass:"desc"},[n("div",{staticClass:"intro"},[n("div",{staticClass:"brandBg",style:e.brandLogo}),n("span",{staticClass:"brandTitle"},[e._v(e._s(e.activityInfo.brandInfo.title))])]),n("div",{staticClass:"activityTitle"},[e._v(e._s(e.activityInfo.title))]),n("div",{staticClass:"duration"},[e._v("兌換時間: "+e._s(e.activityDuration))])])]),n("div",{staticClass:"bottomBlock",on:{click:e.wantToExchange}},[n("p",{staticClass:"variationMainPoint"},[e._v(e._s(e.exchangeText))])])],1)},Fi=[],Vi=(n("a15b"),n("d4ec")),Ji=n("bee2"),Yi=function(){function e(t){Object(Vi["a"])(this,e),this.deadline=new Date(t.deadline).getTime(),this.timer=null,this.leftTime=0,this.isPause=!1,this.isFirst=!0,this.updateList=[],this.finishList=[]}return Object(Ji["a"])(e,[{key:"start",value:function(){this.isFirst&&(this.isFirst=!1,this.execute())}},{key:"execute",value:function(){var e=this;this.runClock(this.deadline),this.timer=setInterval((function(){e.runClock(e.deadline)}),1e3/60)}},{key:"runClock",value:function(e){var t=e-Date.now(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),a=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3),s={diff:t,day:n,hour:r,minute:a,second:i};return this.updateList.forEach((function(e){return e(s)})),0===n&&0===r&&0===a&&0===i&&(clearInterval(this.timer),this.finishList.forEach((function(e){return e()}))),s}},{key:"pause",value:function(){this.isPause||(this.isPause=!0,clearInterval(this.timer),this.leftTime=this.runClock(this.deadline).diff)}},{key:"resume",value:function(){this.isPause&&(this.isPause=!1,this.deadline=Date.now()+this.leftTime,this.execute(),this.leftTime=0)}},{key:"on",value:function(e,t){this["".concat(e,"List")].push(t)}}]),e}(),Xi={props:{activityInfo:{type:Object,required:!0},currentLayoutId:{type:String,required:!0},systemTime:{type:String,required:!0},projectTime:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,r=null,a=Object(F["h"])(e),i=a.activityInfo,s=a.systemTime,o=a.projectTime,u=Object(F["g"])(!1),c={opening:"已開啟",unopened:"尚未開始",closed:"已結束"},l={free:"免費兌換",redeem_code:"兌換碼兌換"},d=Object(F["f"])({day:0,hour:0,minute:0}),p=Object(F["a"])((function(){return"opening"===i.value.status})),f=Object(F["a"])((function(){return c[i.value.status]})),v=Object(F["a"])((function(){var e=i.value.feature_image.url;return e?{backgroundImage:"url(".concat(e,")")}:{}})),m=Object(F["a"])((function(){var e=i.value.start_datetime.split(" ")[0],t=i.value.end_datetime.split(" ")[0];return"".concat(e," ~ ").concat(t)})),h=Object(F["a"])((function(){var e=i.value.brandInfo.feature_image_small.url;return e?{backgroundImage:"url(".concat(e,")")}:{}})),g=Object(F["a"])((function(){var e=i.value.redeem_type;if("point"!==e)return l[e];var t=A("point_condition"),n=A("external_point_condition");return t.concat(n).join(" / ")})),b=Object(F["a"])((function(){var e=new Date(s.value).getTime(),t=new Date(i.value.end_datetime).getTime(),n=t-e;if(n<=0)return!1;var r=n<o.value;return p.value&&r})),_=Object(F["a"])((function(){return"".concat(d.day,"天").concat(d.hour,"時").concat(d.minute,"分")})),A=function(e){return void 0===i.value[e]?[]:i.value[e].reduce((function(t,n){var r=i.value.pointInfo.find((function(t){return t.point_id===n.point_id&&t.category===e}));return t.push("".concat(r.title).concat(n.amount,"點")),t}),[])},w=function(){r=new Yi({deadline:i.value.end_datetime}),r.on("update",(function(e){var t=e.day,n=e.hour,r=e.minute;d.day=t,d.hour=n,d.minute=r})),r.on("finish",(function(){return u.value=!0})),r.start()},y=function(){n("ready",{activityId:i.value.coupon_activity_id,redeemType:i.value.redeem_type,status:i.value.status})};return Object(F["i"])((function(){return b.value}),(function(e){e?w():(null!==r&&r.pause(),u.value=!1)})),Object(F["d"])((function(){b.value&&w()})),Object(F["e"])((function(){null!==r&&r.pause()})),{usageText:f,isOpening:p,activityBg:v,activityDuration:m,brandLogo:h,exchangeText:g,isFinish:u,isCountdown:b,remainedTime:_,wantToExchange:y}}},zi=Xi,Wi=(n("0489"),Object(l["a"])(zi,Ui,Fi,!1,null,"429acdf0",null)),Ki=Wi.exports,Qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"pointPicker"}})},Zi=[],Gi=null,es={props:{pickerItem:{type:Object,required:!0}},methods:{initPicker:function(){var e=this;Gi=new MobileSelect({trigger:"#pointPicker",title:"選兌換筆別",ensureBtnText:"確定",cancelBtnText:"取消",ensureBtnColor:"#288efb",titleColor:"#292929",textColor:"#292929",triggerDisplayData:!1,wheels:[{data:this.pickerItem.data}],callback:function(t,n){e.$emit("selectPoint",{id:n[0].id,category:n[0].category})}})},show:function(){Gi.show(),Gi.locatePosition(0,0)}},mounted:function(){this.initPicker()},watch:{pickerItem:{deep:!0,handler:function(e){Gi.updateWheel(0,e.data),Gi.locatePosition(0,0),Gi.show()}}}},ts=es,ns=Object(l["a"])(ts,Qi,Zi,!1,null,null,null),rs=ns.exports,as={name:"activityList",metaInfo:function(){return{title:this.$i18n.t("page.activityList.title")}},setup:function(e,t){var n,r=t.root,a=Object(F["g"])("a"),i=Object(F["g"])(!1),o=Object(F["g"])(!1),u=Object(F["g"])(!1),c=Object(F["g"])(null),l=Object(F["g"])(0),d=Object(F["g"])(""),p=Object(F["g"])(220752e7),f=Object(F["g"])(!1),m=Object(F["f"])({data:[]}),h=Object(F["f"])({data:{}}),g=Object(F["f"])({data:[]}),b=Object(F["f"])({data:[]}),A=Object(F["f"])({data:[{id:"a",value:"hello"}]}),w=Object(F["f"])([{id:"a",class:"layoutA"},{id:"b",class:"layoutB"}]),y=Object(F["f"])({activityId:0,redeemType:"",pointId:0,pointCategory:""}),O=Object(F["f"])({isOpen:!1,title:"目前擁有點數",showPointAmount:!1}),C=Object(F["f"])({isOpen:!1,showCancel:!0,message:"",eventName:"gather"}),x=Object(F["f"])({isOpen:!1,showCancel:!0,popupTitle:"請輸入兌換碼",eventName:"gather",validateRule:"required"}),k=Object(F["f"])({isOpen:!1,message:"",eventName:"tipFeedBack"}),j=Object(F["a"])((function(){return m.data.length>0})),I=Object(F["a"])((function(){return g.data.length>0})),P=Object(F["a"])((function(){return!i.value&&!I.value})),L=Object(F["a"])((function(){return null!==l.value})),R=Object(F["a"])((function(){return!i.value&&!o.value&&!L.value&&I.value})),S=function(e){o.value||(window.removeEventListener("scroll",V),a.value=e,setTimeout((function(){window.addEventListener("scroll",V)}),50))},B=function(e){return e.map((function(e){return e.point_id}))},N=function(e){var t=e.pointSummary,n=e.pointInfo;return t.reduce((function(e,t){var r=t.point_id,a=n.find((function(e){return e.point_id===r}));return e.push({title:a.title,amount:t.amount,pointId:r}),e}),[])},$=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.member_summary().then((function(e){return e.info.results.point_summary.current_point}));case 2:return t=e.sent,n=B(t),e.next=6,Kn.pointInfo({point_id:n,full_info:!1}).then((function(e){return e.info.results.point_information}));case 6:r=e.sent,m.data=N({pointSummary:t,pointInfo:r});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t=e.map((function(e){return e.brand_id}));return Array.from(new Set(t))},q=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data,r=t.key,void 0!==n[r]){e.next=3;break}return e.abrupt("return",[]);case 3:return a=n[r].map((function(e){return e.point_id})),i="point_condition"===r?"pointInfo":"externalPointInfo",e.next=7,Kn[i]({point_id:a,full_info:!1}).then((function(e){return e.info.results.point_information}));case 7:return s=e.sent,s.forEach((function(e){return e.category=r})),e.abrupt("return",_.cloneDeep(s));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t.length)){e.next=18;break}if(a=t[r],"point"!==a.redeem_type){e.next=14;break}return e.next=7,q({data:a,key:"point_condition"});case 7:return i=e.sent,e.next=10,q({data:a,key:"external_point_condition"});case 10:o=e.sent,n.push(Object(s["a"])(Object(s["a"])({},a),{},{pointInfo:[].concat(Object(li["a"])(i),Object(li["a"])(o))})),e.next=15;break;case 14:n.push(Object(s["a"])(Object(s["a"])({},a),{},{pointInfo:null}));case 15:r++,e.next=2;break;case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.mergePointResult,r=t.brandInfo,e.abrupt("return",n.reduce((function(e,t){var n=t.brand_id,a=r.find((function(e){return e.brand_id===n}));return e.push(Object(s["a"])(Object(s["a"])({},t),{},{brandInfo:void 0!==a?a:null})),e}),[]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,di.searchCoupon(Object(s["a"])(Object(s["a"])({},h.data),{},{offset:l.value})).then((function(e){return e.info}));case 2:if(n=e.sent,l.value=n.next,d.value=n.results.system_datetime||"",r=n.results.coupon_activity_ids,g.data=void 0!==r?r:[],I.value){e.next=10;break}return b.data=[],e.abrupt("return");case 10:return e.next=12,di.couponInfo({coupon_activity_ids:g.data,full_info:!1}).then((function(e){return e.info.results.coupon_activity_information}));case 12:return a=e.sent,i=E(a),e.next=16,gn.brand_information({brand_ids:i,full_info:!1}).then((function(e){return e.info.results.brand_information}));case 16:return o=e.sent,e.next=19,H(a);case 19:return u=e.sent,e.next=22,M({mergePointResult:u,brandInfo:o});case 22:c=e.sent,b.data=t?b.data.concat(c):c;case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,h.data=t,l.value=0,window.removeEventListener("scroll",V),e.next=6,D(!1);case 6:window.scrollTo(0,0),setTimeout((function(){u.value=!1,c.value.showSubMenu(""),window.addEventListener("scroll",V),i.value=!1}),50);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o.value){e.next=2;break}return e.abrupt("return");case 2:if(t=window.innerHeight,n=document.documentElement.scrollHeight,r=n-t,a=window.pageYOffset,!(a>=.95*r&&L.value)){e.next=11;break}return o.value=!0,e.next=10,D(!0);case 10:o.value=!1;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){var t=["point_condition","external_point_condition"],n=[];return t.forEach((function(t){if(void 0===e[t])return!1;var r=e[t].reduce((function(n,r){var a=r.point_id,i=e.pointInfo.find((function(e){return e.point_id===a&&e.category===t}));return n.push({id:a,title:i.title,value:"".concat(i.title," : ").concat(r.amount,"點"),amount:r.amount,category:t}),n}),[]);n=n.concat(r)})),n},Y=function(e){var t=e.id,n=e.category;y.pointId=t,y.pointCategory=n,z()},X=function(e){var t=e.activityId,n=e.redeemType,r=e.status;if("opening"===r){var a=b.data.find((function(e){return e.coupon_activity_id===t}));if(y.activityId=t,y.redeemType=n,"free"===n)C.isOpen=!0,C.message="確定要免費兌換「".concat(a.title,"」嗎?");else if("redeem_code"===n)x.isOpen=!0;else if("point"===n){var i=J(a);if(1===i.length){var s=i[0],o=s.id,u=s.category,c=s.value;y.pointId=o,y.pointCategory=u,C.isOpen=!0,C.message="確定要用".concat(c,"兌換「").concat(a.title,"」嗎?")}else A.data=i}}},z=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C.isOpen=!1,x.isOpen=!1,i.value=!0,n={coupon_activity_id:y.activityId},a=y.redeemType,"redeem_code"===a?n.redeem_code=t:"point"===a&&(s=y.pointCategory,o="point_condition"===s?"point_id":"external_point_id",n[o]=y.pointId),e.next=8,W(n);case 8:u=e.sent,f.value=u.status,k.message=u.status?"兌換成功":u.errMsg,u.status&&r.$storage.setSessionItem("redeemInfo",u.redeemInfo),k.isOpen=!0,i.value=!1;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,di.redeemCoupon(t).then((function(e){return e})).catch((function(e){return e.response}));case 2:return n=e.sent,r=n.status,a=n.info,e.abrupt("return",{status:r,errMsg:r?"":a.rcrm.RM,redeemInfo:a.results.coupon_redeem_result});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){f.value&&r.$router.push("/activity/success"),k.isOpen=!1};return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,setTimeout((function(){window.addEventListener("scroll",V)}),100),e.next=4,$();case 4:case"end":return e.stop()}}),e)})))),Object(F["e"])((function(){window.removeEventListener("scroll",V)})),n={currentLayoutId:a,isLoading:i,layoutList:w,isSidebarOpen:u,switchLayout:S,pointSlider:m,hasPointSlider:j,pointPopupOption:O,filterHandler:U,activitySidebar:c,systemTime:d,activityList:b,isPagLoading:o,showEmptyBlock:P},Object(Aa["a"])(n,"activityList",b),Object(Aa["a"])(n,"projectTime",p),Object(Aa["a"])(n,"reachBottom",R),Object(Aa["a"])(n,"readyToExchange",X),Object(Aa["a"])(n,"msgOption",C),Object(Aa["a"])(n,"codePopupOption",x),Object(Aa["a"])(n,"gatherExchangeParams",z),Object(Aa["a"])(n,"tipOption",k),Object(Aa["a"])(n,"tipFeedBack",K),Object(Aa["a"])(n,"pickerItem",A),Object(Aa["a"])(n,"selectPoint",Y),n},components:{LayoutItem:gi,PointSlider:Oi,PointPopup:nr,ActivitySidebar:Di,ActivityItem:Ki,PointPicker:rs}},is=as,ss=(n("2007"),Object(l["a"])(is,ui,ci,!1,null,null,null)),os=ss.exports,us=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"activityInfo_section"},[n("div",{staticClass:"banner"},[n("div",{staticClass:"inner",style:e.activityBanner})]),n("div",{staticClass:"wrap"},[n("div",{staticClass:"activityIntro"},[n("div",{staticClass:"activityName"},[e._v(e._s(e.activityTitle))]),n("ul",{staticClass:"intorList"},[n("li",[n("div",{staticClass:"title"},[e._v("兌換時間")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(e.activityDuration))])]),e._l(e.activityMeta,(function(t,r){return n("li",{key:r},[n("div",{staticClass:"title"},[e._v(e._s(t.key))]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(t.value))])])}))],2),e.isPointType?e._e():n("div",{staticClass:"line"}),n("div",{staticClass:"brandLogo",style:e.brandLogoBg})]),e.isPointType?n("div",{staticClass:"pointIntro"},[n("div",{staticClass:"title"},[e._v("使用以下任一種點數兌換")]),n("ul",{staticClass:"conditionList"},e._l(e.pickerItem.data,(function(t,r){return n("li",{key:r},[n("div",{staticClass:"name"},[e._v(e._s(t.title))]),n("div",{staticClass:"content"},[e._v(e._s(t.amount)),n("span",[e._v("點")])])])})),0)]):e._e(),n("div",{staticClass:"couponIntro"},[n("div",{staticClass:"title"},[e._v("兌換此活動可獲得以下票券")]),n("div",{staticClass:"content"},[e._l(e.couponBlock.data,(function(t){return n("RedeemCoupon",{key:t.coupon_id,attrs:{couponItem:t,brandList:e.brandList.data,couponType:"coupon"}})})),e._l(e.voucherBlock.data,(function(t){return n("RedeemCoupon",{key:t.coupon_id,attrs:{couponItem:t,brandList:e.brandList.data,couponType:"voucher"}})}))],2)])]),n("div",{staticClass:"activityDesc",domProps:{innerHTML:e._s(e.activityContent)}}),n("div",{staticClass:"fixBlock"},[e.activityIsOpening?n("div",{staticClass:"termActiveButton",on:{click:e.readyExchange}},[e._v(e._s(e.redeemTypeText))]):n("div",{staticClass:"usedBlock"},[e._v(e._s(e.usageText))])]),n("MessagePopup",{attrs:{isOpen:e.doubleCheckOption.isOpen,message:e.doubleCheckOption.message,showCancel:e.doubleCheckOption.showCancel,eventName:e.doubleCheckOption.eventName},on:{"update:isOpen":function(t){return e.$set(e.doubleCheckOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.doubleCheckOption,"isOpen",t)},ready:e.processHandler}}),n("InputPopup",{attrs:{isOpen:e.codePopupOption.isOpen,showCancel:e.codePopupOption.showCancel,popupTitle:e.codePopupOption.popupTitle,eventName:e.codePopupOption.eventName,validateRule:e.codePopupOption.validateRule},on:{"update:isOpen":function(t){return e.$set(e.codePopupOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.codePopupOption,"isOpen",t)},exchange:e.processHandler}}),n("MessagePopup",{attrs:{isOpen:e.msgOption.isOpen,message:e.msgOption.message,eventName:e.msgOption.eventName},on:{"update:isOpen":function(t){return e.$set(e.msgOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.msgOption,"isOpen",t)},finish:e.finishHandler}}),e.usePointPicker?n("PointPicker",{ref:"pointPicker",attrs:{pickerItem:e.pickerItem},on:{selectPoint:e.selectPoint}}):e._e(),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},cs=[],ls=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"couponBlock reverse",attrs:{to:{name:"activityCoupon",params:e.linkParams}}},[n("div",{staticClass:"couponBlockL"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isAllBrand,expression:"isAllBrand"}],staticClass:"brandInfo"},[n("div",{staticClass:"brandLogo",style:e.brandLogo}),n("span",[e._v(e._s(e.brandTitle))])]),n("div",{staticClass:"couponTitle"},[e._v(e._s(e.couponInfo.title))]),n("div",{staticClass:"detail"},[n("p",[e._v("使用期限 : "+e._s(e.couponInfo.duration))]),n("p",[e._v(e._s(e.availableStoreText))])])]),n("div",{staticClass:"couponBlockR reverse",style:e.couponImage})])},ds=[],ps={props:{couponItem:{type:Object,required:!0},brandList:{type:Array,required:!0},couponType:{type:String,required:!0}},setup:function(e){var t=Object(F["h"])(e),n=t.couponItem,r=t.brandList,a=t.couponType,i=Object(F["a"])((function(){return 0===n.value.brand_ids.length})),s=Object(F["a"])((function(){return n.value.brand_ids[0]})),o=Object(F["a"])((function(){return r.value.find((function(e){return e.brand_id===s.value}))||null})),u=Object(F["a"])((function(){if(null===o.value)return{};var e=o.value.feature_image_small.url;return null!==e?{backgroundImage:"url(".concat(e,")")}:{}})),c=Object(F["a"])((function(){return null===o.value?"":o.value.title})),l=Object(F["a"])((function(){var e="coupon"===a.value?"coupon_id":"voucher_id";return{couponType:a.value,coupon_id:n.value[e]}})),d=Object(F["a"])((function(){var e=n.value.feature_image.url;return null===e?{}:{backgroundImage:"url(".concat(e,")")}})),p=Object(F["a"])((function(){var e=n.value,t=e.storeList,r=e.total,a=t.store_ids.length;return t.all_brands_available?"全門市適用 / 可用".concat(r,"次"):"適用".concat(a,"家門市 / 可用").concat(r,"次")}));return{couponInfo:n,brandLogo:u,brandTitle:c,linkParams:l,couponImage:d,isAllBrand:i,availableStoreText:p}}},fs=ps,vs=(n("7395"),Object(l["a"])(fs,ls,ds,!1,null,"5cb7681e",null)),ms=vs.exports,hs={name:"activityInfo",metaInfo:function(){return{title:this.$i18n.t("page.activityInfo.title")}},setup:function(e,t){var n=t.root,r=Object(F["g"])(!1),a=Object(F["g"])(0),i=Object(F["g"])(""),o=Object(F["g"])(null),u=Object(F["g"])(!1),c=Object(F["f"])({data:[]}),l=Object(F["f"])({data:{}}),d=Object(F["f"])({data:[]}),p=Object(F["f"])({data:[]}),f=Object(F["f"])({data:[]}),m=Object(F["g"])(!1),h={free:"免費兌換",redeem_code:"兌換碼兌換",point:"點數兌換"},g={opening:"已開啟",unopened:"尚未開始",closed:"已結束"},b=Object(F["f"])({isOpen:!1,showCancel:!0,message:"",eventName:"ready"}),_=Object(F["f"])({isOpen:!1,showCancel:!0,popupTitle:"請輸入兌換碼",eventName:"exchange",validateRule:"required"}),A=Object(F["f"])({isOpen:!1,message:"",eventName:"finish"}),w=Object(F["f"])({title:"",pointId:0,category:""}),y=Object(F["a"])((function(){return!Nn.a.isEmpty(l.data)})),O=Object(F["a"])((function(){if(!y.value)return{};var e=l.data.feature_image.url;return e?{backgroundImage:"url(".concat(e,")")}:{}})),C=Object(F["a"])((function(){return y.value?l.data.title:""})),x=Object(F["a"])((function(){if(!y.value)return"";var e=l.data.start_datetime.split(" ")[0],t=l.data.end_datetime.split(" ")[0];return"".concat(e,"~").concat(t)})),k=Object(F["a"])((function(){return y.value?l.data.meta:[]})),j=Object(F["a"])((function(){return y.value?l.data.content:""})),I=Object(F["a"])((function(){if(!y.value)return{};var e=i.value;return e?{backgroundImage:"url(".concat(e,")")}:{}})),T=Object(F["a"])((function(){return!!y.value&&"opening"===l.data.status})),P=Object(F["a"])((function(){return y.value?h[l.data.redeem_type]:""})),L=Object(F["a"])((function(){return y.value?g[l.data.status]:""})),R=Object(F["a"])((function(){return!!y.value&&"point"===l.data.redeem_type})),S=Object(F["a"])((function(){return f.data.length>1})),B=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",di.couponInfo({coupon_activity_ids:[a.value],full_info:!0}).then((function(e){return e.info.results.coupon_activity_information[0]})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",gn.brand_information({brand_ids:t,full_info:!1}).then((function(e){return e.info.results.brand_information})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ha.coupon_information({coupon_ids:t,full_info:!1}).then((function(e){return e.info.results.coupon_information})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Va.getInfo({voucher_ids:t,full_info:!1}).then((function(e){return e.results.voucher_information})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t=e.reduce((function(e,t){return e=e.concat(t.brand_ids),e}),[]);return Array.from(new Set(t))},H=function(e,t){return e.reduce((function(e,n){var r=n.coupon_id,a=t.find((function(e){return e.coupon_id===r}));return e.push(Object(s["a"])(Object(s["a"])({},n),{},{storeList:a||null})),e}),[])},M=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",{brandIdArr:[],couponList:[]});case 2:return e.next=4,$(t);case 4:return n=e.sent,r=q(n),e.next=8,ga.searchAvailableStore({coupon_ids:t}).then((function(e){return e.info.results.search_coupon_available_store_results}));case 8:return a=e.sent,i=H(n,a),e.abrupt("return",{brandIdArr:r,couponList:i});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",{brandIdArr:[],voucherList:[]});case 2:return e.next=4,E(t);case 4:n=e.sent,r=q(n),a=[],i=0;case 8:if(!(i<n.length)){e.next=17;break}return o=n[i],e.next=12,ga.searchVoucherStore({voucher_id:1});case 12:u=e.sent,a.push(Object(s["a"])(Object(s["a"])({},o),{},{storeList:u.info.results||null}));case 14:i++,e.next=8;break;case 17:return e.abrupt("return",{brandIdArr:r,voucherList:a});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,di.redeemCoupon(t).then((function(e){return e})).catch((function(e){return e.response}));case 2:return n=e.sent,r=n.status,a=n.info,e.abrupt("return",{status:r,errMsg:r?"":a.rcrm.RM,redeemInfo:a.results.coupon_redeem_result});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==l.data[t]){e.next=2;break}return e.abrupt("return",[]);case 2:return n=l.data[t].map((function(e){return e.point_id})),r="point_condition"===t?"pointInfo":"externalPointInfo",e.next=6,Kn[r]({point_id:n,full_info:!1}).then((function(e){return e.info.results.point_information}));case 6:return a=e.sent,a.forEach((function(e){return e.category=t})),e.abrupt("return",Nn.a.cloneDeep(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=["point_condition","external_point_condition"],n=[];return t.forEach((function(t){if(void 0===l.data[t])return!1;var r=l.data[t].reduce((function(n,r){var a=r.point_id,i=e.find((function(e){return e.point_id===a&&e.category===t}));return n.push({id:a,title:i.title,value:"".concat(i.title," : ").concat(r.amount,"點"),amount:r.amount,category:t}),n}),[]);n=n.concat(r)})),n},Y=function(e){var t=e.id,n=e.category;w.pointId=t,w.category=n,z()},X=function(){var e=l.data.redeem_type;"free"===e?(b.isOpen=!0,b.message="您確定要免費兌換「".concat(C.value,"」嗎?")):"redeem_code"===e?_.isOpen=!0:S.value?o.value.show():(w.title=f.data[0].title,w.pointId=f.data[0].id,w.category=f.data[0].category,b.isOpen=!0,b.message="\n                  您確定要用".concat(w.title).concat(f.data[0].amount,"點\n                     兌換「").concat(C.value,"」嗎?"))},z=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var a,i,s,o,u,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,b.isOpen=!1,_.isOpen=!1,a={coupon_activity_id:l.data.coupon_activity_id},i=l.data.redeem_type,"redeem_code"===i?a.redeem_code=t:"point"===i&&(s="point_condition"===w.category?"point_id":"external_point_id",a[s]=w.pointId),e.next=8,U(a);case 8:o=e.sent,u=o.status,c=o.errMsg,d=o.redeemInfo,m.value=u,u?(n.$storage.setSessionItem("redeemInfo",d),A.message="兌換成功"):A.message=c,A.isOpen=!0,r.value=!1;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){m.value&&n.$router.push("/activity/success"),A.isOpen=!1};return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){var t,s,o,v,m,h,g,b,_,A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,a.value=parseInt(n.$route.params.activity_id),e.next=4,B();case 4:return l.data=e.sent,t=l.data,s=t.brand_id,o=t.coupon_ids,v=t.voucher_ids,i.value=N([s]).then((function(e){return e[0].feature_image_small.url})),e.next=9,M(o);case 9:return m=e.sent,e.next=12,D(v);case 12:if(h=e.sent,g=m.brandIdArr.concat(h.brandIdArr),!(g.length>0)){e.next=18;break}return e.next=17,N(g);case 17:c.data=e.sent;case 18:if(d.data=m.couponList,p.data=h.voucherList,!R.value){e.next=30;break}return e.next=23,V("point_condition");case 23:return b=e.sent,e.next=26,V("external_point_condition");case 26:_=e.sent,A=b.concat(_),f.data=J(A),S.value&&(u.value=!0);case 30:r.value=!1;case 31:case"end":return e.stop()}}),e)})))),{isLoading:r,activityBanner:O,activityTitle:C,activityDuration:x,activityMeta:k,activityContent:j,activityBrandLogo:i,brandLogoBg:I,activityIsOpening:T,redeemTypeText:P,usageText:L,couponBlock:d,voucherBlock:p,readyExchange:X,doubleCheckOption:b,processHandler:z,exchangeHandler:U,msgOption:A,finishHandler:W,codePopupOption:_,isPointType:R,pickerItem:f,moreThanOnePickerItem:S,usePointPicker:u,selectPoint:Y,pointPicker:o,brandList:c}},components:{RedeemCoupon:ms,PointPicker:rs}},gs=hs,bs=(n("7a18"),Object(l["a"])(gs,us,cs,!1,null,null,null)),_s=bs.exports,As=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"success_section"},[e._m(0),n("ul",{staticClass:"okList"},e._l(e.metaInfo.data,(function(t,r){return n("li",{key:r},[n("div",{staticClass:"title"},[e._v(e._s(t.key))]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(t.value))])])})),0),n("div",{staticClass:"couponPanel"},[n("div",{staticClass:"left"},[n("router-link",{staticClass:"linkBlock",attrs:{to:"/coupon/folder",replace:""}},[n("div",{staticClass:"itemA"}),n("p",[e._v("我的券匣")])])],1),n("div",{staticClass:"center",on:{click:function(t){e.couponPopupOption.isOpen=!0}}},[e._m(1)]),n("div",{staticClass:"right"},[n("router-link",{staticClass:"linkBlock",attrs:{to:"/activity/list",replace:""}},[n("div",{staticClass:"itemC"}),n("p",[e._v("繼續兌換")])])],1)]),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),n("OptionPopup",{attrs:{isOpen:e.couponPopupOption.isOpen,popupTitle:e.couponPopupOption.title},on:{"update:isOpen":function(t){return e.$set(e.couponPopupOption,"isOpen",t)},"update:is-open":function(t){return e.$set(e.couponPopupOption,"isOpen",t)}},scopedSlots:e._u([{key:"default",fn:function(){return e._l(e.couponList.data,(function(t){return n("router-link",{key:t.my_coupon_id,staticClass:"couponItem",attrs:{to:{name:"couponInfo",params:{my_coupon_id:t.my_coupon_id}},replace:""}},[e._v(e._s(t.title))])}))},proxy:!0}])})],1)},ws=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"okBlock"},[n("h3",[e._v("兌換成功")]),n("p",[e._v("優惠券已收納至我的券匣中，記得來看看呦")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"linkBlock"},[n("div",{staticClass:"itemB"}),n("p",[e._v("立即使用")])])}],ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"mypopup optionPopup"},[n("div",{staticClass:"popup-content"},[n("div",{staticClass:"popup-header"},[e._v(e._s(e.popupTitle))]),n("div",{staticClass:"popup-body"},[e._t("default")],2),n("div",{staticClass:"popup-footer",on:{click:e.closeHandler}},[e._v("取消")])])])},Os=[],Cs={props:{isOpen:{type:Boolean,default:!1},popupTitle:{type:String,default:""}},methods:{closeHandler:function(){this.$emit("update:isOpen",!1)}}},xs=Cs,ks=(n("a08e"),Object(l["a"])(xs,ys,Os,!1,null,null,null)),js=ks.exports,Is={name:"exchangeOk",metaInfo:function(){return{title:this.$i18n.t("page.exchangeOk.title")}},setup:function(e,t){var n=t.root,r=Object(F["g"])(!1),a=Object(F["f"])({data:[]}),i=Object(F["f"])({data:[]}),s=(Object(F["f"])([]),Object(F["f"])([]),Object(F["f"])({data:[]})),o=Object(F["f"])({title:"請選擇票券",isOpen:!1}),u=function(){var e=n.$storage.getSessionItem("redeemInfo");null!==e&&(i.data=e.my_coupon_ids,a.data=e.meta)};return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.value=!0,u(),r.value=!1;case 3:case"end":return e.stop()}}),e)})))),{isLoading:r,metaInfo:a,couponList:s,couponPopupOption:o}},components:{OptionPopup:js}},Ts=Is,Ps=(n("5fb8"),Object(l["a"])(Ts,As,ws,!1,null,null,null)),Ls=Ps.exports,Rs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"couponInfo_section"},[n("div",{staticClass:"banner"},[n("div",{staticClass:"inner",style:e.couponBackgroundImage})]),n("div",{staticClass:"couponIntro"},[n("div",{staticClass:"couponName"},[e._v(e._s(e.couponTitle))]),n("ul",{staticClass:"intorList"},[n("li",[n("div",{staticClass:"title"},[e._v("使用期限")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(e.couponDuration))])]),n("li",[n("div",{staticClass:"title"},[e._v("適用品牌")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(e.brandTitle))])]),n("li",[n("div",{staticClass:"title"},[e._v("轉贈票券")]),n("div",{staticClass:"colon"},[e._v(":")]),n("div",{staticClass:"content"},[e._v(e._s(e.couponTransferredText))])])]),n("div",{staticClass:"brandLogo",style:e.brandBackgroundImage})]),n("div",{staticClass:"usageBox"},[n("div",{staticClass:"storeBox"},[n("div",{staticClass:"title arrow"},[e._v("適用門市")]),n("div",{staticClass:"content"},[e.allStoreAvailable?[n("span",{staticClass:"unit"},[e._v("全門市適用")])]:[n("span",{staticClass:"number"},[e._v(e._s(e.storeCount))]),n("span",{staticClass:"unit"},[e._v("家")])]],2)]),n("div",{staticClass:"countBox"},[n("div",{staticClass:"title"},[e._v("可用次數")]),n("div",{staticClass:"content"},[n("span",{staticClass:"number"},[e._v(e._s(e.totalUageTimes))]),n("span",{staticClass:"unit"},[e._v("次")])])])]),n("div",{staticClass:"couponDesc",domProps:{innerHTML:e._s(e.couponDesc)}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},Ss=[],Bs={name:"activityCoupon",metaInfo:function(){return{title:this.$i18n.t("page.redeemCouponInfo.title")}},setup:function(e,t){var n=t.root,r=Ja(),a=r.hasCouponInfo,i=r.couponInfo,s=r.brandInfo,o=r.storeInfo,u=r.couponBackgroundImage,c=r.couponTitle,l=r.couponDuration,d=r.couponDesc,p=r.brandTitle,f=r.brandBackgroundImage,m=r.totalUageTimes,h=r.allStoreAvailable,g=r.storeCount,b=r.getCouponInfo,_=r.getBrandInfo,A=r.getStoreInfo,w=r.getVoucherInfo,y=r.getVoucherStoreInfo,O=Object(F["g"])(0),C=Object(F["g"])(!1),x=Object(F["a"])((function(){return a.value?i.data.can_transfer?"允許轉贈":"不可轉贈":""}));return Object(F["d"])(Object(v["a"])(regeneratorRuntime.mark((function e(){var t,r,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C.value=!0,O.value=parseInt(n.$route.params.coupon_id),t=n.$route.params.couponType,r="coupon"===t?b:w,a="coupon"===t?A:y,u="coupon"===t?[O.value]:O.value,e.next=8,r([O.value]);case 8:return i.data=e.sent,e.next=11,a(u);case 11:if(o.data=e.sent,!(i.data.brand_ids.length>0)){e.next=16;break}return e.next=15,_([i.data.brand_ids[0]]);case 15:s.data=e.sent;case 16:C.value=!1;case 17:case"end":return e.stop()}}),e)})))),{isLoading:C,couponBackgroundImage:u,couponTitle:c,couponDuration:l,couponDesc:d,brandTitle:p,brandBackgroundImage:f,totalUageTimes:m,allStoreAvailable:h,storeCount:g,couponTransferredText:x}}},Ns=Bs,$s=(n("7063"),Object(l["a"])(Ns,Rs,Ss,!1,null,"5131c44e",null)),Es=$s.exports,qs=function(e,t,n){return M.state.auth.isLogin?n("/"):n()};r["default"].use(f["a"]);var Hs=[{path:"/",name:"home",component:ie,meta:{layout:"default",auth:!0}},{path:"/login",name:"login",component:pe,beforeEnter:qs},{path:"/register",component:be,beforeEnter:qs,children:[{path:"",redirect:"step1"},{path:"step1",component:qe,meta:{step:1,register:!0}},{path:"step2",component:Ye,meta:{step:2,register:!0}},{path:"step3",component:Ze,meta:{step:3,register:!0}}]},{path:"/member",component:at,children:[{path:"",redirect:"/"},{path:"forgotPassword",component:lt,beforeEnter:qs},{path:"verifyPassword",component:ht,beforeEnter:qs},{path:"resetPassword",component:yt,beforeEnter:qs},{path:"maintain",component:It,meta:{auth:!0}},{path:"fixMobile",component:Bt,meta:{auth:!0}},{path:"memberVerify",component:Mt,meta:{auth:!0}},{path:"updatePassword",component:Yt,meta:{auth:!0}},{path:"level",component:dn,meta:{auth:!0}},{path:"transaction",component:Xn,meta:{auth:!0}},{path:"pointInfo/:point_id(\\d+)",component:br,meta:{auth:!0}},{path:"pointDesc/:point_id(\\d+)",component:Cr,name:"pointDesc",meta:{auth:!0}},{path:"card",component:oa,meta:{auth:!0}}]},{path:"/coupon",component:fa,meta:{auth:!0},children:[{path:"",redirect:"/"},{path:"folder",name:"couponFolder",component:Da},{path:"info/:my_coupon_id(\\d+)",name:"couponInfo",component:Wa},{path:"card/:my_coupon_id(\\d+)",name:"couponCard",component:ti}]},{path:"/activity",component:oi,meta:{auth:!0},children:[{path:"",redirect:"/"},{path:"list",component:os},{path:"info/:activity_id(\\d+)",name:"activityInfo",component:_s},{path:"coupon/id/:coupon_id(\\d+)/type/:couponType",name:"activityCoupon",component:Es},{path:"success",component:Ls}]},{path:"*",redirect:"/"}],Ms=new f["a"]({mode:"hash",routes:Hs,scrollBehavior:function(e,t,n){return n||(e.hash?{selector:e.hash}:{x:0,y:0})}});Ms.beforeEach((function(e,t,n){if(e.matched.some((function(e){return!0===e.meta.auth}))){var r=S.get("mmrmToken");if(void 0===r)return M.commit("auth/setLogin",!1),n("/login")}return n()}));var Ds=Ms,Us=n("a925"),Fs="tw",Vs="tw";r["default"].use(Us["a"]);var Js=new Us["a"]({locale:Fs,fallbackLocale:Vs,messages:Object(Aa["a"])({},Fs,n("8488")("./"+Fs+".json"))}),Ys=Js,Xs=n("7bb1"),zs=n("4c93"),Ws=(n("52e6"),{install:function(e,t){e.component("ValidationObserver",Xs["a"]),e.component("ValidationProvider",Xs["b"]),Object(Xs["d"])("eager"),Object(Xs["c"])("required",Object(s["a"])(Object(s["a"])({},zs["b"]),{},{message:Ys.t("validate.required")})),Object(Xs["c"])("email",Object(s["a"])(Object(s["a"])({},zs["a"]),{},{message:Ys.t("validate.email")})),Object(Xs["c"])("phone",{message:Ys.t("validate.mobile"),validate:function(e){return 10===e.length&&/^09\d{8}$/.test(e)}}),Object(Xs["c"])("password",{message:Ys.t("validate.password"),validate:function(e){var t=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,12}$/;return t.test(e)}}),Object(Xs["c"])("confirmPw",{params:["target"],message:"確認密碼不一致",validate:function(e,t){var n=t.target;return e===n}}),Object(Xs["c"])("term",{message:"請同意條款",validate:function(e){return e}}),Object(Xs["c"])("birthday",{message:"生日不能是今天",validate:function(e){var t=new Date;t=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();var n=new Date(e).getTime();return n<t}})}}),Ks=n("58ca"),Qs=(n("bbe3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"defaultLayout"},[e._t("default")],2)}),Zs=[],Gs={},eo=Gs,to=Object(l["a"])(eo,Qs,Zs,!1,null,null,null),no=to.exports,ro=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panelLayout"},[n("div",{staticClass:"fixedPanel"},[n("router-link",{attrs:{to:"/"}},[n("i",{staticClass:"fas fa-home"})])],1),e._t("default")],2)},ao=[],io={},so=io,oo=(n("ee9d"),Object(l["a"])(so,ro,ao,!1,null,"13821589",null)),uo=oo.exports,co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loading"}})},lo=[],po={},fo=po,vo=(n("5fa0"),Object(l["a"])(fo,co,lo,!1,null,null,null)),mo=vo.exports,ho=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"mypopup"},[n("div",{staticClass:"popup-content"},[n("div",{staticClass:"popup-header"},[n("p",[e._v(e._s(e.popupTitle))])]),n("div",{staticClass:"popup-body"},[n("p",[e._v(e._s(e.message))])]),n("div",{staticClass:"popup-footer"},[n("div",{on:{click:e.confirmHandler}},[e._v("確定")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCancel,expression:"showCancel"}],on:{click:e.closeHandler}},[e._v("取消")])])])])},go=[],bo={props:{isOpen:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1},eventName:{type:String,required:!0},popupTitle:{type:String,default:"提示"},message:{type:String,default:""}},methods:{closeHandler:function(){this.$emit("update:isOpen",!1)},confirmHandler:function(){this.$emit(this.eventName)}}},_o=bo,Ao=Object(l["a"])(_o,ho,go,!1,null,null,null),wo=Ao.exports,yo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"mypopup"},[n("div",{staticClass:"popup-content"},[n("div",{staticClass:"popup-header"},[n("p",[e._v(e._s(e.popupTitle))])]),n("div",{staticClass:"popup-body"},[n("p",[e._v(e._s(e.message))]),n("validation-observer",{ref:"form",staticClass:"validate-block",attrs:{tag:"div"}},[n("validation-provider",{attrs:{tag:"div",rules:e.validateRule,vid:"name"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inputValue,expression:"inputValue",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus",value:e.isOpen,expression:"isOpen"}],staticClass:"form-control",attrs:{type:e.inputType,placeholder:e.placeholder},domProps:{value:e.inputValue},on:{input:function(t){t.target.composing||(e.inputValue=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(e._s(r[0]))])]}}])})],1)],1),n("div",{staticClass:"popup-footer"},[n("div",{on:{click:e.confirmHandler}},[e._v("確定")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCancel,expression:"showCancel"}],on:{click:e.closeHandler}},[e._v("取消")])])])])},Oo=[],Co={props:{isOpen:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1},popupTitle:{type:String,default:"提示"},message:{type:String,default:""},inputType:{type:String,default:"text"},placeholder:{type:String,default:""},eventName:{type:String,required:!0},validateRule:{type:String,default:""}},directives:{focus:{update:function(e,t){t.value&&e.focus()}}},data:function(){return{inputValue:"1qaz2wsx"}},methods:{closeHandler:function(){this.$emit("update:isOpen",!1)},confirmHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:e.$emit(e.eventName,e.inputValue);case 6:case"end":return t.stop()}}),t)})))()}},watch:{isOpen:function(e){e&&(this.inputValue="",this.$refs.form.reset())}}},xo=Co,ko=(n("99c4"),Object(l["a"])(xo,yo,Oo,!1,null,"0fdce172",null)),jo=ko.exports;r["default"].component("Loading",mo),r["default"].component("DefaultLayout",no),r["default"].component("PanelLayout",uo),r["default"].component("MessagePopup",wo),r["default"].component("InputPopup",jo);n("b680");function Io(e,t,n){var r=/(\d{3})(?=\d)/g;if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:"$",n=null!=n?n:2;var a=Math.abs(e).toFixed(n),i=n?a.slice(0,-1-n):a,s=i.length%3,o=s>0?i.slice(0,s)+(i.length>3?",":""):"",u=n?a.slice(-1-n):"",c=e<0?"-":"";return c+t+o+i.slice(s).replace(r,"$1,")+u}n("4d63"),n("38cf");function To(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("string"!==typeof e)throw new TypeError("text must be string type");if("number"!==typeof t)throw new TypeError("length must be number");var n=new RegExp("(.{".concat(t,"})(.+)(.{").concat(t,"})"),"g");return e.replace(n,(function(e,t,n,r){return t+"*".repeat(n.length)+r}))}r["default"].filter("currency",Io),r["default"].filter("hideText",To);n("f9e3"),n("2dd8");r["default"].config.productionTip=!1,r["default"].use(Ws),r["default"].use(Ks["a"]),r["default"].use(F["b"]),new r["default"]({router:Ds,store:M,i18n:Ys,render:function(e){return e(p)}}).$mount("#app")},5837:function(e,t,n){},5846:function(e,t,n){},"5a60":function(e,t,n){"use strict";var r=n("aafd"),a=n.n(r);a.a},"5b0b":function(e,t,n){},"5f40":function(e,t,n){"use strict";var r=n("9723"),a=n.n(r);a.a},"5fa0":function(e,t,n){"use strict";var r=n("6675"),a=n.n(r);a.a},"5fb8":function(e,t,n){"use strict";var r=n("135b"),a=n.n(r);a.a},"60f4":function(e,t,n){"use strict";var r=n("f1e8"),a=n.n(r);a.a},6439:function(e,t,n){"use strict";var r=n("3b72"),a=n.n(r);a.a},6675:function(e,t,n){},7063:function(e,t,n){"use strict";var r=n("b938"),a=n.n(r);a.a},7353:function(e,t,n){},7395:function(e,t,n){"use strict";var r=n("1d6d"),a=n.n(r);a.a},"73c0":function(e,t,n){"use strict";var r=n("0898"),a=n.n(r);a.a},7511:function(e,t,n){"use strict";var r=n("2aa2"),a=n.n(r);a.a},7645:function(e,t,n){},"799c":function(e,t,n){},"7a18":function(e,t,n){"use strict";var r=n("799c"),a=n.n(r);a.a},"7ad8":function(e,t,n){},"7c11":function(e,t,n){"use strict";var r=n("e68f"),a=n.n(r);a.a},8488:function(e,t,n){var r={"./en.json":"eccd","./tw.json":"019f"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="8488"},"8f69":function(e,t,n){},9723:function(e,t,n){},"99c4":function(e,t,n){"use strict";var r=n("2cff"),a=n.n(r);a.a},"9f38":function(e,t,n){"use strict";var r=n("4c6b"),a=n.n(r);a.a},a08e:function(e,t,n){"use strict";var r=n("c0fb"),a=n.n(r);a.a},a6a8:function(e,t,n){"use strict";var r=n("e066"),a=n.n(r);a.a},a8d9:function(e,t,n){},aafd:function(e,t,n){},b3cd:function(e,t,n){},b614:function(e,t,n){"use strict";var r=n("f6c3"),a=n.n(r);a.a},b938:function(e,t,n){},bc35:function(e,t,n){},bf22:function(e,t,n){"use strict";var r=n("8f69"),a=n.n(r);a.a},c0fb:function(e,t,n){},c7f4:function(e,t,n){"use strict";var r=n("3952"),a=n.n(r);a.a},c88c:function(e,t,n){"use strict";var r=n("b3cd"),a=n.n(r);a.a},cdef:function(e,t,n){},d291:function(e,t,n){"use strict";var r=n("a8d9"),a=n.n(r);a.a},d7e7:function(e,t,n){"use strict";var r=n("0610"),a=n.n(r);a.a},e041:function(e,t,n){},e066:function(e,t,n){},e173:function(e,t,n){"use strict";var r=n("5b0b"),a=n.n(r);a.a},e4e7:function(e){e.exports=JSON.parse('[{"name":"台北市","districts":["中正區","大同區","中山區","松山區","大安區","萬華區","信義區","士林區","北投區","內湖區","南港區","文山區"]},{"name":"基隆市","districts":["仁愛區","信義區","中正區","中山區","安樂區","暖暖區","七堵區"]},{"name":"新北市","districts":["萬里區","金山區","板橋區","汐止區","深坑區","石碇區","瑞芳區","平溪區","雙溪區","貢寮區","新店區","坪林區","烏來區","永和區","中和區","土城區","三峽區","樹林區","鶯歌區","三重區","新莊區","泰山區","林口區","蘆洲區","五股區","八里區","淡水區","三芝區","石門區"]},{"name":"宜蘭縣","districts":["宜蘭市","頭城鎮","礁溪鄉","壯圍鄉","員山鄉","羅東鎮","三星鄉","大同鄉","五結鄉","冬山鄉","蘇澳鎮","南澳鄉","釣魚台列嶼"]},{"name":"桃園市","districts":["中壢區","平鎮區","龍潭區","楊梅區","新屋區","觀音區","桃園區","龜山區","八德區","大溪區","復興區","大園區","蘆竹區"]},{"name":"新竹市","districts":["東區","北區","香山區"]},{"name":"新竹縣","districts":["竹北市","湖口鄉","新豐鄉","新埔鎮","關西鎮","芎林鄉","寶山鄉","竹東鎮","五峰鄉","橫山鄉","尖石鄉","北埔鄉","峨眉鄉"]},{"name":"苗栗縣","districts":["竹南鎮","頭份市","三灣鄉","南庄鄉","獅潭鄉","後龍鎮","通霄鎮","苑裡鎮","苗栗市","造橋鄉","頭屋鄉","公館鄉","大湖鄉","泰安鄉","銅鑼鄉","三義鄉","西湖鄉","卓蘭鎮"]},{"name":"台中市","districts":["中區","東區","南區","西區","北區","北屯區","西屯區","南屯區","太平區","大里區","霧峰區","烏日區","豐原區","后里區","石岡區","東勢區","和平區","新社區","潭子區","大雅區","神岡區","大肚區","沙鹿區","龍井區","梧棲區","清水區","大甲區","外埔區","大安區"]},{"name":"彰化縣","districts":["彰化市","芬園鄉","花壇鄉","秀水鄉","鹿港鎮","福興鄉","線西鄉","和美鎮","伸港鄉","員林市","社頭鄉","永靖鄉","埔心鄉","溪湖鎮","大村鄉","埔鹽鄉","田中鎮","北斗鎮","田尾鄉","埤頭鄉","溪州鄉","竹塘鄉","二林鎮","大城鄉","芳苑鄉","二水鄉"]},{"name":"南投縣","districts":["南投市","中寮鄉","草屯鎮","國姓鄉","埔里鎮","仁愛鄉","名間鄉","集集鎮","水里鄉","魚池鄉","信義鄉","竹山鎮","鹿谷鄉"]},{"name":"嘉義市","districts":["東區","西區"]},{"name":"嘉義縣","districts":["番路鄉","梅山鄉","竹崎鄉","阿里山","中埔鄉","大埔鄉","水上鄉","鹿草鄉","太保市","朴子市","東石鄉","六腳鄉","新港鄉","民雄鄉","大林鎮","溪口鄉","義竹鄉","布袋鎮"]},{"name":"雲林縣","districts":["斗南鎮","大埤鄉","虎尾鎮","土庫鎮","褒忠鄉","東勢鄉","台西鄉","崙背鄉","麥寮鄉","斗六市","林內鄉","古坑鄉","莿桐鄉","西螺鎮","二崙鄉","北港鎮","水林鄉","口湖鄉","四湖鄉","元長鄉"]},{"name":"台南市","districts":["中西區","東區","南區","北區","安平區","安南區","永康區","歸仁區","新化區","左鎮區","玉井區","楠西區","南化區","仁德區","關廟區","龍崎區","官田區","麻豆區","佳里區","西港區","七股區","將軍區","學甲區","北門區","新營區","後壁區","白河區","東山區","六甲區","下營區","柳營區","鹽水區","善化區","大內區","山上區","新市區","安定區"]},{"name":"高雄市","districts":["新興區","前金區","苓雅區","鹽埕區","鼓山區","旗津區","前鎮區","三民區","楠梓區","小港區","左營區","仁武區","大社區","東沙群島","南沙群島","岡山區","路竹區","阿蓮區","田寮區","燕巢區","橋頭區","梓官區","彌陀區","永安區","湖內區","鳳山區","大寮區","林園區","鳥松區","大樹區","旗山區","美濃區","六龜區","內門區","杉林區","甲仙區","桃源區","那瑪夏區","茂林區","茄萣區"]},{"name":"澎湖縣","districts":["馬公市","西嶼鄉","望安鄉","七美鄉","白沙鄉","湖西鄉"]},{"name":"金門縣","districts":["金沙鎮","金湖鎮","金寧鄉","金城鎮","烈嶼鄉","烏坵鄉"]},{"name":"屏東縣","districts":["屏東市","三地門鄉","霧台鄉","瑪家鄉","九如鄉","里港鄉","高樹鄉","鹽埔鄉","長治鄉","麟洛鄉","竹田鄉","內埔鄉","萬丹鄉","潮州鎮","泰武鄉","來義鄉","萬巒鄉","崁頂鄉","新埤鄉","南州鄉","林邊鄉","東港鎮","琉球鄉","佳冬鄉","新園鄉","枋寮鄉","枋山鄉","春日鄉","獅子鄉","車城鄉","牡丹鄉","恆春鎮","滿州鄉"]},{"name":"台東縣","districts":["台東市","綠島鄉","蘭嶼鄉","延平鄉","卑南鄉","鹿野鄉","關山鎮","海端鄉","池上鄉","東河鄉","成功鎮","長濱鄉","太麻里","金峰鄉","大武鄉","達仁鄉"]},{"name":"花蓮縣","districts":["花蓮市","新城鄉","秀林鄉","吉安鄉","壽豐鄉","鳳林鎮","光復鄉","豐濱鄉","瑞穗鄉","萬榮鄉","玉里鎮","卓溪鄉","富里鄉"]},{"name":"連江縣","districts":["南竿鄉","北竿鄉","莒光鄉","東引鄉"]}]')},e68f:function(e,t,n){},e790:function(e,t,n){"use strict";var r=n("1aa8"),a=n.n(r);a.a},eccd:function(e){e.exports=JSON.parse('{"page":{"home":{"title":"Home"},"login":{"title":"login"},"register":{"title":"register"},"register-1":{"title":"register-1"},"register-2":{"title":"register-2"},"register-3":{"title":"register-3"},"forgotPassword":{"title":"forgotPassword"},"verifyPassword":{"title":"verifyPassword mobile"},"resetPassword":{"title":"resetPassword"},"maintain":{"title":"member maintain"},"fixPassword":{"title":"fixPassword"},"memberVerify":{"title":"memberVerify"},"updatePassword":{"title":"updatePassword"},"memberLevel":{"title":"memberLevel"},"transaction":{"title":"transaction"},"pointInfo":{"title":"pointInfo"},"pointDesc":{"title":"pointDesc"},"memberCard":{"title":"memberCard"},"couponFolder":{"title":"couponFolder"},"couponInfo":{"title":"couponInfo"},"couponCard":{"title":"couponCard"},"activityList":{"title":"activityList"},"activityInfo":{"title":"activityInfo"},"exchangeOk":{"title":"exchangeOk"},"redeemCouponInfo":{"title":"redeemCouponInfo"}},"validate":{"required":"required","email":"email format error","mobile":"mobile format error","password":"Password length or format does not match: mixed 6~12 codes","pwNotEqual":"password is different","taiwanId":"taiwanId format error"},"http":{"401":"Please login again","500":"Server error"}}')},ee9d:function(e,t,n){"use strict";var r=n("5524"),a=n.n(r);a.a},f1e8:function(e,t,n){},f6c3:function(e,t,n){}});
//# sourceMappingURL=app.js.map